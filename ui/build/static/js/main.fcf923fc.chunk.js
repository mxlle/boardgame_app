(this.webpackJsonpboardgame_app=this.webpackJsonpboardgame_app||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(14),i=a.n(c),s=(a(101),a(62)),l=a(48),u=a(16),m=(a(102),a(120)),d=a(159),p=a(160),h=a(150),f=a(50),v=a(152),g=a(161),b=a(162),y=a(86),E=a(158),O=a(157),j="justone.okj.name"===window.location.hostname?"":":9000",k=window.location.protocol+"//"+window.location.hostname+j+"/api"+"/games";!function(e){e.AUTO="automatisch",e.BRIGHT="hell",e.DARK="dunkel"}(n||(n={}));var w,C=a(15),N=a.n(C),P=a(21),I=a(6),S=a(7),G=a(11),W=a(9),H=a(8),R=a(163),D=a(145),x=a(148),M=a(149),T=a(151),B=a(84),A=a.n(B);!function(e){e[e.Init=0]="Init",e[e.Preparation=1]="Preparation",e[e.HintWriting=2]="HintWriting",e[e.HintComparing=3]="HintComparing",e[e.Guessing=4]="Guessing",e[e.Solution=5]="Solution",e[e.End=6]="End"}(w||(w={}));var _=a(80),U=a.n(_);function L(){var e=localStorage.getItem("playerId")||"";return e||(e=U()(),localStorage.setItem("playerId",e)),e}function z(e){return J(e,L())}function J(e,t){return e.players.find((function(e){return e.id===t}))}function K(e){document.title=e?"".concat("Nur ein Wort!"," - ").concat(e):"Nur ein Wort!"}var V=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(){var e;Object(I.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).currentUserId=localStorage.getItem("playerId")||"",e.currentUserName=localStorage.getItem("playerName")||"",e}return Object(S.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.allGames,n=t.deleteGame,r=a.filter((function(e){return e.phase===w.Init&&!z(e)})),c=a.filter((function(e){return![w.Init,w.End].includes(e.phase)||e.phase===w.Init&&!!z(e)})),i=a.filter((function(e){return e.phase===w.End})),s=function(t){return o.a.createElement(D.a,Object.assign({key:t.id,className:"GameListItem"},{to:"/".concat(t.id)},{component:l.b,button:!0}),o.a.createElement(x.a,{id:t.id,primary:"".concat(t.name||t.id),secondary:"Spieler: ".concat(t.players.map((function(e){return e.name})).join(", ")||"-")}),e.currentUserId===t.host&&o.a.createElement(M.a,null,o.a.createElement(h.a,{onClick:function(){return n(t.id)}},o.a.createElement(A.a,null))))},u=r.map(s),d=c.map(s),p=i.map(s);return o.a.createElement("div",{className:"GameList"},d.length>0&&o.a.createElement(m.a,null,o.a.createElement(f.a,{variant:"h5"},"Meine laufenden Spiele"),o.a.createElement(T.a,null,d)),u.length>0&&o.a.createElement(m.a,null,o.a.createElement(f.a,{variant:"h5"},"Neue Spiele"),o.a.createElement(T.a,null,u)),p.length>0&&o.a.createElement(m.a,null,o.a.createElement(f.a,{variant:"h5"},"Meine beendeten Spiele"),o.a.createElement(T.a,null,p)))}}]),a}(o.a.Component),q=a(40);function F(){return $.apply(this,arguments)}function $(){return($=Object(P.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie("all");case 2:if(e.t0=e.sent.games,e.t0){e.next=5;break}e.t0=[];case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return X.apply(this,arguments)}function X(){return(X=Object(P.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t);case 2:return e.abrupt("return",e.sent.game);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(P.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se("add",{game:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return t="delete/".concat(e),new Promise((function(e,a){fetch("".concat(k,"/").concat(t),{method:"DELETE",headers:Object(q.a)({},ue())}).then((function(t){e()}),(function(e){console.error(e),a(e)}))}));var t}function te(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(P.a)(N.a.mark((function e(t,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le("".concat(t,"/addPlayer"),{player:a});case 2:return e.abrupt("return",e.sent.player);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(P.a)(N.a.mark((function e(t,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le("".concat(t,"/updatePlayer"),{player:a});case 2:return e.abrupt("return",e.sent.player);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t){return le("".concat(e,"/startPreparation"),{wordsPerPlayer:t})}function ce(e,t){return le("".concat(e,"/resolve"),{correct:t})}function ie(e){return new Promise((function(t,a){fetch("".concat(k,"/").concat(e),{method:"GET",headers:Object(q.a)({},ue())}).then((function(e){return e.json()})).then((function(e){t(e)}),(function(e){console.error(e),a(e)}))}))}function se(e,t){return new Promise((function(a,n){fetch("".concat(k,"/").concat(e),{method:"POST",headers:Object(q.a)(Object(q.a)({},ue()),{},{Accept:"application/json","Content-Type":"application/json"}),body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){a(e)}),(function(e){console.error(e),n(e)}))}))}function le(e,t){return new Promise((function(a,n){fetch("".concat(k,"/").concat(e),{method:"PUT",headers:Object(q.a)(Object(q.a)({},ue()),{},{Accept:"application/json","Content-Type":"application/json"}),body:JSON.stringify(t)}).then((function(e){e.json().then((function(e){a(e)}),(function(e){a()}))}),(function(e){console.error(e),n(e)}))}))}function ue(){return{Authorization:L()}}var me=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(e){var n;Object(I.a)(this,a),(n=t.call(this,e)).currentUserId=localStorage.getItem("playerId")||"",n.currentUserName=localStorage.getItem("playerName")||"",n._interval=void 0,n._isMounted=!1,n.createGame=n.createGame.bind(Object(G.a)(n)),n.handleChange=n.handleChange.bind(Object(G.a)(n)),n.deleteGame=n.deleteGame.bind(Object(G.a)(n));var r=n.currentUserName?"".concat(n.currentUserName,"s Spiel"):"Neues Spiel";return n.state={allGames:[],newGameName:r},n}return Object(S.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0,K(),this.loadGames(),this._interval=window.setInterval(this.loadGames.bind(this),3e3)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,clearInterval(this._interval)}},{key:"loadGames",value:function(){var e=Object(P.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:if(t=e.sent,this._isMounted){e.next=5;break}return e.abrupt("return");case 5:this.setState({allGames:t});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteGame",value:function(e){ee(e),this.setState((function(t){return{allGames:t.allGames.filter((function(t){return t.id!==e}))}}))}},{key:"handleChange",value:function(e){this.setState({newGameName:e.target.value})}},{key:"createGame",value:function(){var e=Object(P.a)(N.a.mark((function e(){var t,a,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t={id:"",name:"",words:[],players:[],host:"",wordsPerPlayer:2,round:0,phase:0,hints:[],correctWords:[],wrongWords:[]}).name=this.state.newGameName,e.next=4,Y(t);case 4:a=e.sent,n=a.id,r=a.playerId,this.currentUserId!==r&&localStorage.setItem("playerId",r),window.location.href="/"+n;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.newGameName,a=e.allGames;return o.a.createElement("div",{className:"JustOneHome"},o.a.createElement(R.a,{label:"Spielname",value:t,onChange:this.handleChange}),o.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.createGame},"Neues Spiel"),o.a.createElement(V,{allGames:a,deleteGame:this.deleteGame}))}}]),a}(o.a.Component);var de=a(153),pe=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).state={value:""},n.handleChange=n.handleChange.bind(Object(G.a)(n)),n.submitHint=n.submitHint.bind(Object(G.a)(n)),n.keyPressed=n.keyPressed.bind(Object(G.a)(n)),n}return Object(S.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"submitHint",value:function(){this.props.submitHint(this.state.value),this.setState({value:""})}},{key:"keyPressed",value:function(e){"Enter"===e.key&&this.submitHint()}},{key:"render",value:function(){return o.a.createElement("div",{className:"Word-hint-input"},o.a.createElement(R.a,{label:this.props.label||"Hinweis eingeben",value:this.state.value,onChange:this.handleChange,onKeyPress:this.keyPressed}),o.a.createElement(h.a,{color:"primary",disabled:!this.state.value,onClick:this.submitHint},o.a.createElement(de.a,null)))}}]),a}(o.a.Component),he=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(){return Object(I.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e={backgroundColor:this.props.color},t={borderTopColor:this.props.color};return o.a.createElement("div",{className:"pencil"},o.a.createElement("div",{className:"body",style:e}),o.a.createElement("div",{className:"nib",style:t}))}}]),a}(o.a.Component),fe=a(165),ve=a(154),ge=a(155),be=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(){return Object(I.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props.hint,t=this.props.color,a={color:t,borderColor:t},n=this.props.author,r=this.props.showPencil||!this.props.hint,c=this.props.showCheck,i=this.props.showDuplicateToggle,s=this.props.toggleDuplicate,l=["Word-hint"];r&&l.push("Word-hint-writing"),this.props.duplicate&&l.push("Word-hint-duplicate"),e&&e.length>20?l.push("Word-hint-huge"):e&&e.length>14&&l.push("Word-hint-long");var u=l.join(" ");return this.props.showInput&&this.props.submitHint?o.a.createElement(m.a,{className:u,style:a},o.a.createElement(pe,{submitHint:this.props.submitHint}),n&&o.a.createElement("span",{className:"Author-tag"},n)):o.a.createElement(m.a,{className:u,style:a},!c&&e,c&&o.a.createElement("span",{className:"Done-icon"},"\u2713"),r&&o.a.createElement(he,{color:t}),i&&s&&o.a.createElement(fe.a,{className:"Duplicate-toggle",icon:o.a.createElement(ve.a,null),checkedIcon:o.a.createElement(ge.a,null),checked:this.props.duplicate,onChange:function(){return s()}}),n&&o.a.createElement("span",{className:"Author-tag"},n))}}]),a}(o.a.Component),ye=a(85),Ee=a.n(ye),Oe=["#e51235","#d81b60","#8e24aa","#6e45c1","#4959cc","#1e88e5","#039be5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#ffc215","#ffab00","#ff6d00","#f4511e"];function je(e){return e&&Oe.includes(e)?e:Oe[Math.floor(Math.random()*Oe.length)]}var ke=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(){return Object(I.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.selected,a=e.select,n=Oe.map((function(e){var n=["Color-button"];return t===e&&n.push("Color-selected"),o.a.createElement(h.a,{className:n.join(" "),onClick:function(){return a(e)},style:{backgroundColor:e},key:e},t===e&&o.a.createElement(Ee.a,null))}));return o.a.createElement("div",{className:"Color-picker"},n)}}]),a}(o.a.Component),we=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(G.a)(n)),n.setColor=n.setColor.bind(Object(G.a)(n)),n.addPlayer=n.addPlayer.bind(Object(G.a)(n)),n}return Object(S.a)(a,[{key:"handleChange",value:function(e){"name"===e.target.name&&(this.props.currentPlayer.name=e.target.value,this.props.updatePlayer(this.props.currentPlayer))}},{key:"setColor",value:function(e){this.props.currentPlayer.color=e,this.props.updatePlayer(this.props.currentPlayer)}},{key:"addPlayer",value:function(){this.props.addPlayer(this.props.currentPlayer)}},{key:"render",value:function(){var e=this.props.currentPlayer;return o.a.createElement("div",{className:"New-player"},o.a.createElement(R.a,{required:!0,label:"Spielername",name:"name",value:e.name,onChange:this.handleChange}),o.a.createElement(ke,{select:this.setColor,selected:e.color}),o.a.createElement(v.a,{variant:"contained",color:"primary",disabled:!e.name,onClick:this.addPlayer},"Mitspielen"))}}]),a}(o.a.Component),Ce=a(156),Ne=a(166),Pe=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(){return Object(I.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.onClose,n=e.numOfPlayers,r=function(e){a(e)};return o.a.createElement(Ne.a,{onClose:function(){a()},open:t,disableBackdropClick:!0},o.a.createElement(Ce.a,null,"Lege die Rundenanzahl fest"),o.a.createElement(T.a,null,o.a.createElement(D.a,{button:!0,onClick:function(){return r(1)}},o.a.createElement(x.a,{primary:n+" Runden",secondary:"1 Begriff pro Spieler"})),o.a.createElement(D.a,{button:!0,onClick:function(){return r(2)}},o.a.createElement(x.a,{primary:2*n+" Runden",secondary:"2 Begriffe pro Spieler"})),o.a.createElement(D.a,{button:!0,onClick:function(){return r(3)}},o.a.createElement(x.a,{primary:3*n+" Runden",secondary:"3 Begriffe pro Spieler"}))))}}]),a}(o.a.Component),Ie=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).state={currentPlayer:{id:localStorage.getItem("playerId")||"",name:localStorage.getItem("playerName")||"",color:je(localStorage.getItem("playerColor"))},roundDialogOpen:!1},n.addPlayer=n.addPlayer.bind(Object(G.a)(n)),n.setPlayerProps=n.setPlayerProps.bind(Object(G.a)(n)),n.selectNumRounds=n.selectNumRounds.bind(Object(G.a)(n)),n.startPreparation=n.startPreparation.bind(Object(G.a)(n)),n}return Object(S.a)(a,[{key:"setPlayerProps",value:function(e){this.setState({currentPlayer:e})}},{key:"addPlayer",value:function(){var e=Object(P.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(this.props.game.id,t);case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return");case 5:this.setLocalPlayer(a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setLocalPlayer",value:function(e){localStorage.setItem("playerId",e.id),localStorage.setItem("playerName",e.name),e.color&&localStorage.setItem("playerColor",e.color),this.props.setTheme&&e.color&&this.props.setTheme(e.color),this.setState({currentPlayer:e})}},{key:"selectNumRounds",value:function(){this.setState({roundDialogOpen:!0})}},{key:"startPreparation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.setState({roundDialogOpen:!1}),oe(this.props.game.id,e)}},{key:"render",value:function(){var e=this.props.game,t=this.state,a=t.currentPlayer,n=t.roundDialogOpen,r=localStorage.getItem("playerId")||"",c=!!r&&e.host===r,i=!1,s=e.players.map((function(e){return e.id===r&&(i=!0),o.a.createElement(be,{key:e.id,hint:e.name,color:e.color})})),l=a.name?a.name:"?",u=a.color?a.color:je();return o.a.createElement("div",{className:"Game-lobby"},o.a.createElement("div",{className:"New-player"},i?o.a.createElement(m.a,{className:"StatusInfo"},"Warten auf Mitspieler ... Sobald alle Mitspieler da sind, ",c?"kannst du":"kann der Spielleiter"," das Spiel starten."):o.a.createElement(we,{currentPlayer:a,updatePlayer:this.setPlayerProps,addPlayer:this.addPlayer}),c&&i&&o.a.createElement(v.a,{variant:"contained",color:"primary",disabled:e.players.length<3,onClick:this.selectNumRounds},"Alle Spieler sind da")),o.a.createElement("div",{className:"Player-list"},o.a.createElement(f.a,{variant:"h5"},"Mitspieler"),s,!i&&o.a.createElement(be,{hint:l,color:u,showPencil:!0})),o.a.createElement(Pe,{numOfPlayers:e.players.length,open:n,onClose:this.startPreparation}))}}]),a}(o.a.Component),Se=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(){return Object(I.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props.word,t=this.props.guesser,a="";t?a=this.props.guess?("ich"===t.toLowerCase()?"Mein ":t+"'s ")+"Rateversuch: "+this.props.guess:t+" muss raten":this.props.guess&&(a="Rateversuch: "+this.props.guess);var n=["Word-card"];return this.props.guess&&(this.props.guessedRight?n.push("Word-card-correct"):n.push("Word-card-wrong")),o.a.createElement(m.a,{className:n.join(" "),style:{borderColor:this.props.color}},this.props.showInput&&this.props.submitHint?o.a.createElement(pe,{submitHint:this.props.submitHint,label:"Rateversuch"}):o.a.createElement("span",null,e),a&&o.a.createElement("span",{className:"Author-tag",style:{color:this.props.color}},a))}}]),a}(o.a.Component),Ge=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).state={words:[]},n.handleChange=n.handleChange.bind(Object(G.a)(n)),n.keyPressed=n.keyPressed.bind(Object(G.a)(n)),n}return Object(S.a)(a,[{key:"handleChange",value:function(e){var t=parseInt(e.target.name.substr(4)),a=e.target.value;this.setState((function(e,n){var r=e.words;return r[t]=a,{words:r}}))}},{key:"keyPressed",value:function(e){if("Enter"===e.key){var t=this.state.words;t.length<this.props.numOfWords||t.some((function(e){return!e||0===e.length}))||this.props.add(t)}}},{key:"render",value:function(){for(var e=this.props,t=e.add,a=e.numOfWords,n=this.state.words,r=[],c=0;c<a;c++)r.push(o.a.createElement(R.a,{required:!0,label:"Wort ".concat(a>1?c+1:""),placeholder:"Ratebegriff eingeben",name:"word".concat(c),key:"word".concat(c),value:n[c]||"",onChange:this.handleChange,onKeyPress:this.keyPressed}));var i=n.length<a||n.some((function(e){return!e||0===e.length}));return o.a.createElement("div",{className:"Word-adder"},o.a.createElement(f.a,{variant:"subtitle1"},"Gib ",a>1?"".concat(a," W\xf6rter"):"ein Wort"," f\xfcr das Spiel ein"),r,o.a.createElement(v.a,{variant:"contained",color:"primary",disabled:i,onClick:function(){return t(n)}},"Jetzt abschicken"))}}]),a}(o.a.Component),We=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).currentPlayer={id:localStorage.getItem("playerId")||"",name:localStorage.getItem("playerName")||"",color:je(localStorage.getItem("playerColor"))},n.addWords=n.addWords.bind(Object(G.a)(n)),n}return Object(S.a)(a,[{key:"addWords",value:function(){var e=Object(P.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=this.currentPlayer).enteredWords=t,ne(this.props.game.id,a);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.game,t=e.wordsPerPlayer||2,a=localStorage.getItem("playerId")||"",n=!1,r=[],c=!1,i=e.players.map((function(e){var i=!!e.enteredWords&&e.enteredWords.length===t;return e.id===a&&(n=!0,r=e.enteredWords||[],c=i),o.a.createElement(be,{key:e.id,hint:e.name,color:e.color,showPencil:!i})})),s=r.map((function(e){return o.a.createElement(Se,{key:e,word:e})}));return o.a.createElement("div",{className:"Game-lobby"},o.a.createElement("div",{className:"New-player"},c||!n?o.a.createElement(m.a,{className:"StatusInfo"},"Warten auf Mitspieler ... Sobald alle fertig sind, geht's los."):o.a.createElement(Ge,{add:this.addWords,numOfWords:t}),s.length>0&&o.a.createElement(f.a,{variant:"subtitle1"},s.length>1?"Meine Begriffe":"Mein Begriff"),s),o.a.createElement("div",{className:"Player-list"},o.a.createElement(f.a,{variant:"h5"},"Mitspieler"),i))}}]),a}(o.a.Component),He=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(){return Object(I.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props.game,t=e.correctWords.map((function(e){return o.a.createElement(Se,{key:e.word,word:e.word,guess:e.guess,guessedRight:!0})})),a=e.wrongWords.map((function(e){return o.a.createElement(Se,{key:e.word,word:e.word,guess:e.guess,guessedRight:!1})}));return o.a.createElement("div",{className:"Game-end-view"},o.a.createElement("div",{className:"Correct-words"},o.a.createElement("h2",null,"Richtig (",e.correctWords.length,")"),t),o.a.createElement("div",{className:"Wrong-words"},o.a.createElement("h2",null,"Falsch (",e.wrongWords.length,")"),a))}}]),a}(o.a.Component),Re=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(){return Object(I.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e,t=this.props.game,a=J(t,t.roundHost)||{name:"?"},n=J(t,t.currentGuesser)||{name:"?"};switch(t.phase){case w.HintWriting:var r=t.players.filter((function(e){return t.currentGuesser&&e.id!==t.currentGuesser})).map((function(e){return e.name}));e=r.slice(0,r.length-1).join(", ")+" und "+r[r.length-1]+" schreiben Hinweise auf...";break;case w.HintComparing:e=a.name+" \xfcberpr\xfcft die Hinweise auf ung\xfcltige oder doppelte W\xf6rter...";break;case w.Guessing:e=n.name+" versucht den Begriff zu erraten...";break;case w.Solution:e=t.guessedRight?n.name+" lag genau richtig!":n.name+" lag daneben! "+a.name+" entscheidet ob es trotzdem z\xe4hlt..."}return o.a.createElement("div",{className:"Game-progress"},o.a.createElement("div",null,"Runde: ",t.round+1,"/",t.words.length,", Richtige: ",t.correctWords.length,", Falsche: ",t.wrongWords.length),o.a.createElement("div",null,"Phase: ",e))}}]),a}(o.a.Component),De=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).submitHint=n.submitHint.bind(Object(G.a)(n)),n}return Object(S.a)(a,[{key:"submitHint",value:function(e){!function(e,t){le("".concat(e,"/hint"),{hint:t})}(this.props.game.id,e)}},{key:"render",value:function(){var e=this,t=this.props.game,a=z(t),n=J(t,t.currentGuesser)||{name:"?",id:"?"},r=a&&a.id===n.id,c=r?"Ich":n.name,i=r?"?":t.currentWord||"",s=t.hints.map((function(n,r){var c=n.hint,i=a&&a.id===n.author,s=J(t,n.author)||{name:"?",id:"?"},l=i?"Ich":s.name,u=!c||i,m=!c&&i;return o.a.createElement(be,{key:n.author+r,hint:c,color:s.color,showInput:m,submitHint:e.submitHint,showCheck:!u,author:l})}));return o.a.createElement("div",{className:"Game-field"},o.a.createElement("div",{className:"Current-word"},o.a.createElement(f.a,{variant:"h5"},"Begriff"),o.a.createElement(Se,{word:i,guesser:c,color:n.color})),o.a.createElement("div",{className:"Current-hints"},o.a.createElement(f.a,{variant:"h5"},"Spieler-Hinweise"),o.a.createElement("div",{className:"WordHint-list"},s)))}}]),a}(o.a.Component),xe=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).toggleDuplicate=n.toggleDuplicate.bind(Object(G.a)(n)),n.showHints=n.showHints.bind(Object(G.a)(n)),n}return Object(S.a)(a,[{key:"toggleDuplicate",value:function(e){!function(e,t){le("".concat(e,"/toggleDuplicateHint"),{hintIndex:t})}(this.props.game.id,e)}},{key:"showHints",value:function(){var e;e=this.props.game.id,le("".concat(e,"/showHints"))}},{key:"render",value:function(){var e=this,t=this.props.game,a=z(t),n=J(t,t.currentGuesser)||{name:"?",id:"?"},r=a&&a.id===n.id,c=r?"Ich":n.name,i=a&&a.id===t.roundHost,s=r?"?":t.currentWord||"",l=t.hints.map((function(n,c){var s=a&&a.id===n.author,l=J(t,n.author)||{name:"?",id:"?"},u=s?"Ich":l.name;return o.a.createElement(be,{key:n.author+c,hint:n.hint,color:l.color,showCheck:r,duplicate:n.isDuplicate,showDuplicateToggle:i,toggleDuplicate:function(){return e.toggleDuplicate(c)},author:u})}));return o.a.createElement("div",{className:"Game-field"},o.a.createElement("div",{className:"Current-word"},o.a.createElement(f.a,{variant:"h5"},"Begriff"),o.a.createElement(Se,{word:s,guesser:c,color:n.color})),o.a.createElement("div",{className:"Current-hints"},o.a.createElement(f.a,{variant:"h5"},"Spieler-Hinweise"),o.a.createElement("div",{className:"WordHint-list"},l),i&&o.a.createElement(f.a,{variant:"subtitle1"},"Benutze die Smiley-Buttons auf den Hinweisen um doppelte oder ung\xfcltige Werte zu markieren."),i&&o.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.showHints},n.name+" kann losraten!")))}}]),a}(o.a.Component),Me=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).guess=n.guess.bind(Object(G.a)(n)),n}return Object(S.a)(a,[{key:"guess",value:function(e){!function(e,t){le("".concat(e,"/guess"),{guess:t})}(this.props.game.id,e)}},{key:"render",value:function(){var e=this.props.game,t=z(e),a=J(e,e.currentGuesser)||{name:"?",id:"?"},n=t&&t.id===a.id,r=n?"Ich":a.name,c=n?"?":e.currentWord||"",i=e.hints.map((function(a,r){var c=a.hint,i=t&&t.id===a.author,s=J(e,a.author)||{name:"?",id:"?"},l=i?"Ich":s.name;return n&&a.isDuplicate&&(c="LEIDER DOPPELT"),o.a.createElement(be,{key:a.author+r,hint:c,color:s.color,duplicate:a.isDuplicate,author:l})}));return o.a.createElement("div",{className:"Game-field"},o.a.createElement("div",{className:"Current-word"},o.a.createElement(f.a,{variant:"h5"},"Begriff"),o.a.createElement(Se,{word:c,guesser:r,color:a.color,showInput:n,submitHint:this.guess})),o.a.createElement("div",{className:"Current-hints"},o.a.createElement(f.a,{variant:"h5"},"Spieler-Hinweise"),o.a.createElement("div",{className:"WordHint-list"},i)))}}]),a}(o.a.Component),Te=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).resolveRound=n.resolveRound.bind(Object(G.a)(n)),n}return Object(S.a)(a,[{key:"resolveRound",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ce(this.props.game.id,e)}},{key:"render",value:function(){var e,t=this,a=this.props.game,n=z(a),r=J(a,a.currentGuesser)||{name:"?",id:"?"},c=n&&n.id===r.id?"Ich":r.name,i=n&&n.id===a.roundHost,s=a.currentWord||"",l=a.currentGuess||"",u=a.hints.map((function(e,t){var r=n&&n.id===e.author,c=J(a,e.author)||{name:"?",id:"?"},i=r?"Ich":c.name;return o.a.createElement(be,{key:e.author+t,hint:e.hint,color:c.color,author:i})})),m=o.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(){return t.resolveRound(!0)}},"Super, weiter geht's");return a.guessedRight||(m=o.a.createElement(v.a,{variant:"contained",onClick:function(){return t.resolveRound(!0)}},"Das z\xe4hlt trotzdem"),e=o.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(){return t.resolveRound(!1)}},"Leider falsch")),o.a.createElement("div",{className:"Game-field"},o.a.createElement("div",{className:"Current-word"},o.a.createElement(f.a,{variant:"h5"},"Begriff"),o.a.createElement(Se,{word:s,guesser:c,color:r.color,guess:l,guessedRight:a.guessedRight}),(i||a.guessedRight)&&m,i&&e),o.a.createElement("div",{className:"Current-hints"},o.a.createElement(f.a,{variant:"h5"},"Spieler-Hinweise"),o.a.createElement("div",{className:"WordHint-list"},u)))}}]),a}(o.a.Component),Be=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(){var e;Object(I.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e._interval=void 0,e._isMounted=!1,e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.loadGame(),this._interval=window.setInterval(this.loadGame.bind(this),1e3)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,clearInterval(this._interval)}},{key:"loadGame",value:function(){var e=Object(P.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.gameId,e.next=3,Q(t);case 3:if(a=e.sent,this._isMounted){e.next=6;break}return e.abrupt("return");case 6:if(a){e.next=8;break}return e.abrupt("return");case 8:K(a.name),this.setState({currentGame:a});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this.props.setTheme,n=this.state.currentGame;if(!n)return null;switch(n.phase){case w.Init:e=o.a.createElement(Ie,{game:n,setTheme:a});break;case w.Preparation:e=o.a.createElement(We,{game:n});break;case w.HintWriting:e=o.a.createElement(De,{game:n}),t=o.a.createElement(Re,{game:n});break;case w.HintComparing:e=o.a.createElement(xe,{game:n}),t=o.a.createElement(Re,{game:n});break;case w.Guessing:e=o.a.createElement(Me,{game:n}),t=o.a.createElement(Re,{game:n});break;case w.Solution:e=o.a.createElement(Te,{game:n}),t=o.a.createElement(Re,{game:n});break;case w.End:e=o.a.createElement(He,{game:n})}return o.a.createElement("div",{className:"Game-content"},t,e)}}]),a}(o.a.Component),Ae=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(){return Object(I.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.onClose,n=e.selectedValue,r=e.possibleValues;return o.a.createElement(Ne.a,{onClose:function(){a(n)},open:t},o.a.createElement(Ce.a,null,"Nachtmodus"),o.a.createElement(T.a,null,r.map((function(e){return o.a.createElement(D.a,{button:!0,onClick:function(){return function(e){a(e)}(e)},key:e,selected:n===e},o.a.createElement(x.a,{primary:e}))}))))}}]),a}(o.a.Component),_e=function(){var e=Object(r.useState)(localStorage.getItem("playerColor")),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)(localStorage.getItem("darkTheme")||n.AUTO),j=Object(s.a)(i,2),k=j[0],w=j[1],C=o.a.useState(!1),N=Object(s.a)(C,2),P=N[0],I=N[1],S=localStorage.getItem("playerName"),G=Object(O.a)("(prefers-color-scheme: dark)");k===n.BRIGHT?G=!1:k===n.DARK&&(G=!0);var W=a;W&&W.startsWith("#")&&7===W.length||(W="#43a047");var H=o.a.useMemo((function(){return Object(y.a)({palette:{primary:{main:W||"#43a047"},secondary:{main:"#d32f2f"},type:G?"dark":"light"}})}),[G,W]),R=["App"];return G&&R.push("App-dark"),o.a.createElement(l.a,null,o.a.createElement(E.a,{theme:H},o.a.createElement(m.a,{square:!0,elevation:0,className:R.join(" ")},o.a.createElement(d.a,{position:"sticky"},o.a.createElement(p.a,null,o.a.createElement(l.b,{to:"/",className:"ButtonLink"},o.a.createElement(h.a,{edge:"start",color:"inherit","aria-label":"home"},o.a.createElement(g.a,null))),o.a.createElement(f.a,{variant:"h2",className:"appTitle"},"Nur ein Wort!"),S?o.a.createElement(v.a,{onClick:function(){return I(!0)},className:"Account-button",color:"inherit",startIcon:o.a.createElement(b.a,null)},S):o.a.createElement(h.a,{onClick:function(){return I(!0)},edge:"end",color:"inherit"},o.a.createElement(b.a,null)),o.a.createElement(Ae,{open:P,onClose:function(e){w(e),localStorage.setItem("darkTheme",e),I(!1)},selectedValue:k,possibleValues:[n.AUTO,n.BRIGHT,n.DARK]}))),o.a.createElement(u.c,null,o.a.createElement(u.a,{path:"/:gameId",component:function(e){return o.a.createElement(Be,{gameId:e.match.params.gameId,setTheme:c})}}),o.a.createElement(u.a,{children:o.a.createElement(me,null)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(_e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},96:function(e,t,a){e.exports=a(118)}},[[96,1,2]]]);
//# sourceMappingURL=main.fcf923fc.chunk.js.map