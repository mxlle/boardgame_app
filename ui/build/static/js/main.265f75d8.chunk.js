(this.webpackJsonpboardgame_app=this.webpackJsonpboardgame_app||[]).push([[0],{138:function(e,t,a){e.exports=a(163)},143:function(e,t,a){},144:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),o=a(12),c=a.n(o),s=(a(143),a(57)),l=a(13),u=a(54),m=a(22),d=(a(144),a(166)),p=a(199),h=a(126),g=a(224),f=a(223),E=a(28);!function(e){e.AUTO="automatisch",e.BRIGHT="hell",e.DARK="dunkel"}(n||(n={}));var b,O={rootSizing:{height:"100%",width:"100%",minHeight:"100vh"},flexCenter:{display:"flex",alignItems:"center",justifyContent:"center"},handwriting:{fontFamily:["Gloria Hallelujah","cursive"].join(",")}},y=a(61),v=a(205),T=a(202),I=a(206),k=a(207),C=a(208),j=a(75),N=a(210),A=a(127),w=a(212),S=a(213),R=a(209),M=a(211),G=a(214),L=a(215),x=a(231),P=a(5),K=a(6),U=a(7),_=a(9),H=a(8),D=a(229),B=a(201),W=a(203),Y=a(167),z=a(204),V=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=this.props,t=e.tKey,a=e.open,n=e.onClose,r=e.selectedValue,o=e.possibleValues;return i.a.createElement(D.a,{onClose:function(){n(r)},open:a},i.a.createElement(B.a,null,i.a.createElement(T.a,{i18nKey:t},"Einstellung")),i.a.createElement(W.a,null,o.map((function(e){return i.a.createElement(Y.a,{button:!0,onClick:function(){return function(e){n(e)}(e.val)},key:e.val,selected:r===e.val},i.a.createElement(z.a,{primary:i.a.createElement(T.a,{i18nKey:e.tKey},e.val)}))}))))}}]),a}(i.a.Component),$=Object(P.a)((function(e){return Object(x.a)({root:{marginBottom:e.spacing(4),padding:e.spacing(1)},title:Object(y.a)({flex:"1 1 auto",letterSpacing:4,fontSize:"4vw"},e.breakpoints.up("lg"),{fontSize:40}),linkBtn:{color:"inherit"}})}))((function(e){var t=Object(v.a)().i18n,a=e.userTheme,r=e.applyUserTheme,o=e.classes,c=i.a.useState(!1),l=Object(s.a)(c,2),m=l[0],d=l[1],p=i.a.useState(!1),h=Object(s.a)(p,2),g=h[0],f=h[1],E=i.a.useState(t.language),b=Object(s.a)(E,2),O=b[0],y=b[1],x=i.a.useState(null),P=Object(s.a)(x,2),K=P[0],U=P[1],_=function(e){var t=e.currentTarget;U(t)},H=function(){U(null)},D=localStorage.getItem("playerName"),B=[{val:n.AUTO,tKey:"THEMEPICK.AUTO"},{val:n.BRIGHT,tKey:"THEMEPICK.BRIGHT"},{val:n.DARK,tKey:"THEMEPICK.DARK"}];return i.a.createElement(I.a,{position:"sticky",className:o.root},i.a.createElement(k.a,null,i.a.createElement(u.b,{to:"/",className:o.linkBtn},i.a.createElement(C.a,{edge:"start",color:"inherit","aria-label":"home"},i.a.createElement(R.a,null))),i.a.createElement(j.a,{variant:"h2",className:o.title},i.a.createElement(T.a,{i18nKey:"APP_TITLE"},"Nur ein Wort!")),D?i.a.createElement(N.a,{onClick:_,color:"inherit",startIcon:i.a.createElement(M.a,null)},D):i.a.createElement(C.a,{onClick:_,edge:"end",color:"inherit"},i.a.createElement(M.a,null)),i.a.createElement(A.a,{anchorEl:K,keepMounted:!0,open:Boolean(K),onClose:H},i.a.createElement(w.a,{onClick:function(){d(!0),H()}},i.a.createElement(S.a,null,i.a.createElement(G.a,null)),i.a.createElement(T.a,{i18nKey:"THEMEPICK.HEADING"},"Nachtmodus")),i.a.createElement(w.a,{onClick:function(){f(!0),H()}},i.a.createElement(S.a,null,i.a.createElement(L.a,null)),i.a.createElement(T.a,{i18nKey:"LANGPICK.HEADING"},"Sprache"))),i.a.createElement(V,{tKey:"THEMEPICK.HEADING",open:m,onClose:function(e){r(e),d(!1)},selectedValue:a,possibleValues:B}),i.a.createElement(V,{tKey:"LANGPICK.HEADING",open:g,onClose:function(e){!function(e){y(e),t.changeLanguage(e)}(e),f(!1)},selectedValue:O,possibleValues:[{val:"de",tKey:"LANGPICK.DE"},{val:"en",tKey:"LANGPICK.EN"}]})))})),F=a(216),q=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.classes;return i.a.createElement(d.a,{square:!0,elevation:0,className:"".concat(a.root," ").concat(t)},i.a.createElement(F.a,null))}}]),a}(i.a.Component),J=Object(P.a)((function(e){return Object(x.a)({root:Object(l.a)({},O.flexCenter)})}))(q),Q=a(10),X=a.n(Q),Z=a(19),ee=a(16),te=a(219),ae=a(226),ne=a(225),re=a(217),ie=a(218),oe=a(118),ce=a.n(oe);!function(e){e[e.Init=0]="Init",e[e.Preparation=1]="Preparation",e[e.HintWriting=2]="HintWriting",e[e.HintComparing=3]="HintComparing",e[e.Guessing=4]="Guessing",e[e.Solution=5]="Solution",e[e.End=6]="End"}(b||(b={}));var se=a(99),le=a(115),ue=a(117),me=a(47);se.a.use(le.a).use(ue.a).use(me.f).init({fallbackLng:"en",debug:!0,initImmediate:!1,whitelist:["en","de"],interpolation:{escapeValue:!1}});var de=se.a;a(100);function pe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?e.round=0:e.round++,e.phase=b.HintWriting}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=e.rounds[e.round].hints.find((function(e){return e.authorId===a&&!e.hint}));n||(n=e.rounds[e.round].hints.find((function(e){return e.authorId===a}))),n&&(n.hint=be(t),e.rounds[e.round].hints.every((function(e){return e.hint&&e.hint.length>0}))&&ge(e))}function ge(e){var t=e.rounds[e.round].hints.map((function(e){return e.hint.toLowerCase()}));e.rounds[e.round].hints.forEach((function(e){var a=e.hint.toLowerCase();t.indexOf(a)!==t.lastIndexOf(a)&&(e.isDuplicate=!0)})),e.phase=b.HintComparing}function fe(e,t){if(e.phase===b.Guessing){var a,n,r=e.rounds[e.round];r.guess=t,r.correct=(a=r.guess,n=r.word,be(a).toLowerCase()===be(n).toLowerCase()),e.phase=b.Solution}}function Ee(e,t){return e.phase!==b.Solution||(e.rounds[e.round].countAnyway=t,e.round<e.rounds.length-1?pe(e):function(e){e.phase=b.End}(e)),e}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(" ")[0]}function Oe(e,t){return e.players.find((function(e){return e.id===t}))}function ye(e,t,a,n){var r=b.End===e.phase?e.rounds.length-1:e.round-1;if(r>=0){var i=e.rounds[r];if(!i.correct)return t(a.t("GAME.MESSAGE.PREV_RESULT","Runde abgeschlossen",{context:i.correct||i.countAnyway?"CORRECT":"WRONG",word:i.guess}),{variant:i.correct||i.countAnyway?"success":"error",preventDuplicate:!0}),i.countAnyway&&n&&n(),!0}return!1}function ve(e){return e.rounds.filter((function(e){return null!==e.correct&&(e.correct||e.countAnyway)}))}function Te(e){return e.rounds.filter((function(e){return null!==e.correct&&!e.correct&&!e.countAnyway}))}function Ie(e){return Oe(e,ke())}function ke(){var e=localStorage.getItem("playerId")||"";return e||(e=Math.random().toString(36).replace("0.",""),localStorage.setItem("playerId",e)),e}function Ce(e){document.title=e?"".concat(de.t("APP_TITLE","Nur ein Wort!")," - ").concat(e):de.t("APP_TITLE","Nur ein Wort!")}var je=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).currentUserId=localStorage.getItem("playerId")||"",e.currentUserName=localStorage.getItem("playerName")||"",e}return Object(U.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.allGames,n=t.deleteGame,r=a.filter((function(e){return e.phase===b.Init&&!Ie(e)})),o=a.filter((function(e){return![b.Init,b.End].includes(e.phase)||e.phase===b.Init&&!!Ie(e)})),c=a.filter((function(e){return e.phase===b.End})),s=function(t){var a=t.players.map((function(e){return e.name})).join(", ")||"-";return i.a.createElement(Y.a,Object.assign({key:t.id,className:"GameListItem"},{to:"/".concat(t.id)},{component:u.b,button:!0}),i.a.createElement(z.a,{id:t.id,primary:"".concat(t.name||t.id),secondary:i.a.createElement(T.a,{i18nKey:"HOME.GAME_LIST.PLAYERS"},"Spieler: ",{playersString:a})}),e.currentUserId===t.hostId&&i.a.createElement(re.a,null,i.a.createElement(C.a,{onClick:function(){return n(t.id)}},i.a.createElement(ce.a,null))))},l=r.map(s),m=o.map(s),p=c.map(s),h=[{key:"ongoing",elementList:m,heading:i.a.createElement(T.a,{i18nKey:"HOME.GAME_LIST.ONGOING"},"Meine laufenden Spiele")},{key:"new",elementList:l,heading:i.a.createElement(T.a,{i18nKey:"HOME.GAME_LIST.NEW"},"Neue Spiele")},{key:"done",elementList:p,heading:i.a.createElement(T.a,{i18nKey:"HOME.GAME_LIST.DONE"},"Meine beendeten Spiele")}].filter((function(e){return e.elementList.length>0})).map((function(e,t){return i.a.createElement(ie.a,{item:!0,xs:12,key:e.key},i.a.createElement(d.a,null,i.a.createElement(j.a,{variant:"h5"},e.heading),i.a.createElement(W.a,null,e.elementList)))}));return i.a.createElement(ie.a,{container:!0,spacing:2,className:"GameList"},h)}}]),a}(i.a.Component),Ne=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.loading,n=e.classes;return i.a.createElement("div",{className:n.root},t,a&&i.a.createElement(F.a,{size:24,className:n.progress}))}}]),a}(i.a.Component),Ae=Object(P.a)((function(e){return Object(x.a)({root:{position:"relative"},progress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})}))(Ne);function we(){return Se.apply(this,arguments)}function Se(){return(Se=Object(Z.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze("all");case 2:if(e.t0=e.sent.games,e.t0){e.next=5;break}e.t0=[];case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(Z.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(t);case 2:return e.abrupt("return",e.sent.game);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(Z.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve("add",{game:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e){return t="delete/".concat(e),new Promise((function(e,a){fetch("".concat("/api/games","/").concat(t),{method:"DELETE",headers:Object(l.a)({},Fe())}).then((function(t){e()}),(function(e){console.error(e),a(e)}))}));var t}function Pe(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(Z.a)(X.a.mark((function e(t,a){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e("".concat(t,"/addPlayer"),{player:a});case 2:return e.abrupt("return",e.sent.player);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e,t){return _e.apply(this,arguments)}function _e(){return(_e=Object(Z.a)(X.a.mark((function e(t,a){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e("".concat(t,"/updatePlayer"),{player:a});case 2:return e.abrupt("return",e.sent.player);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e,t){return $e("".concat(e,"/startPreparation"),{wordsPerPlayer:t})}function De(e,t){return $e("".concat(e,"/hint"),{hint:t})}function Be(e,t){return $e("".concat(e,"/toggleDuplicateHint"),{hintIndex:t})}function We(e,t){return $e("".concat(e,"/guess"),{guess:t})}function Ye(e,t){return $e("".concat(e,"/resolve"),{correct:t})}function ze(e){return new Promise((function(t,a){fetch("".concat("/api/games","/").concat(e),{method:"GET",headers:Object(l.a)({},Fe())}).then((function(e){return e.json()})).then((function(e){t(e)}),(function(e){console.error(e),a(e)}))}))}function Ve(e,t){return new Promise((function(a,n){fetch("".concat("/api/games","/").concat(e),{method:"POST",headers:Object(l.a)(Object(l.a)({},Fe()),{},{Accept:"application/json","Content-Type":"application/json"}),body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){a(e)}),(function(e){console.error(e),n(e)}))}))}function $e(e,t){return new Promise((function(a,n){fetch("".concat("/api/games","/").concat(e),{method:"PUT",headers:Object(l.a)(Object(l.a)({},Fe()),{},{Accept:"application/json","Content-Type":"application/json"}),body:JSON.stringify(t)}).then((function(e){e.json().then((function(e){a(e)}),(function(e){a()}))}),(function(e){console.error(e),n(e)}))}))}function Fe(){return{Authorization:ke()}}var qe=a(90),Je=a.n(qe),Qe=["#e51235","#d81b60","#8e24aa","#6e45c1","#4959cc","#1e88e5","#039be5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#ffc215","#ffab00","#ff6d00","#f4511e"];function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&Qe.includes(e))return e;var a=Qe.filter((function(e){return!t.includes(e)}));return 0===a.length&&(a=Qe),a[Math.floor(Math.random()*a.length)]}var Ze=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=this.props,t=e.selected,a=e.select,n=e.classes,r=Qe.map((function(e){var r=t===e,o={backgroundColor:e,padding:r?4:16};return i.a.createElement(C.a,{className:n.button,onClick:function(){return a(e)},style:o,key:e},r&&i.a.createElement(Je.a,null))}));return i.a.createElement(ae.a,{className:n.root},r)}}]),a}(i.a.Component),et=Object(P.a)((function(e){return Object(x.a)({root:{margin:e.spacing(4),width:128},button:{margin:0,borderRadius:0,color:"white"}})}))(Ze);function tt(e){sessionStorage.setItem("tutorial.game",JSON.stringify(e))}function at(){var e;return(e=JSON.parse(sessionStorage.getItem("tutorial.game")))||tt(e=function(){var e={id:"",name:"",words:[],players:[],hostId:"",wordsPerPlayer:2,round:0,phase:0,rounds:[]};return e.id="tutorial",e.name="Tutorial",e.$isTutorial=!0,e}()),e}function nt(){sessionStorage.removeItem("tutorial.game")}function rt(e){var t=at();t.players.push(e),t.hostId=e.id,tt(t),function e(t){setTimeout((function(){if(t.players.length<=pt.length){var a=pt[t.players.length-1];a.color=Xe(null,t.players.map((function(e){return e.color}))),t.players.push(a),tt(t),e(t)}}),1e3)}(t)}function it(e){var t=at();switch(t.phase){case b.Init:t.wordsPerPlayer=1,t.phase=b.Preparation;break;case b.Preparation:lt(t,0),function e(t){setTimeout((function(){t.words.length<ut.length?(lt(t,t.words.length),tt(t),e(t)):function(e){(function(e){e.rounds=[{word:ut[0],authorId:e.players[0].id,guesserId:e.players[1].id,hostId:e.players[2].id,hints:e.players.filter((function(t){return t.id!==e.players[1].id})).map((function(e){return{hint:"",authorId:e.id}})),guess:"",correct:null,countAnyway:null},{word:ut[1],authorId:e.players[1].id,guesserId:e.players[2].id,hostId:e.players[3].id,hints:e.players.filter((function(t){return t.id!==e.players[2].id})).map((function(e){return{hint:"",authorId:e.id}})),guess:"",correct:null,countAnyway:null},{word:ut[2],authorId:e.players[2].id,guesserId:e.players[3].id,hostId:e.players[0].id,hints:e.players.filter((function(t){return t.id!==e.players[3].id})).map((function(e){return{hint:"",authorId:e.id}})),guess:"",correct:null,countAnyway:null},{word:ut[3],authorId:e.players[3].id,guesserId:e.players[0].id,hostId:e.players[1].id,hints:e.players.filter((function(t){return t.id!==e.players[0].id})).map((function(e){return{hint:"",authorId:e.id}})),guess:"",correct:null,countAnyway:null}]})(e),pe(e,!0),tt(e)}(t)}),1e3)}(t);break;case b.HintWriting:var a=0;e&&(he(t,e,ke()),a++),st(t,a);break;case b.HintComparing:t.phase=b.Guessing,1===t.rounds[t.round].guesserId.length&&ct(t,e);break;case b.Guessing:ct(t,e);break;case b.Solution:(t=Ee(t,!!e)).phase===b.HintWriting&&t.rounds[t.round].guesserId.length>1&&st(t,0)}tt(t)}function ot(e,t){!function(e,t){if(e.phase===b.HintComparing){var a=e.rounds[e.round].hints[t];a&&(a.isDuplicate=!a.isDuplicate)}}(e,t),tt(e)}function ct(e,t){t||(t=mt[e.round]),fe(e,t),e.phase=b.Solution}function st(e,t){setTimeout((function(){t<pt.length&&(he(e,dt[e.rounds[e.round].word][t],e.rounds[e.round].hints[t].authorId),tt(e),st(e,t+1)),e.phase===b.HintComparing&&1===e.rounds[e.round].hostId.length&&(e.phase=b.Guessing,1===e.rounds[e.round].guesserId.length&&ct(e),tt(e))}),1e3)}function lt(e,t){var a=ut[t],n=e.players[t];e.words.push(a),n.enteredWords?n.enteredWords.push(a):e.players[t].enteredWords=[a]}var ut=["Internet","Astronaut","Titanic","Quidditch"],mt=["Internet","Apollo","Tiatnic","Quidditch"],dt={Internet:["online","www","Browser"],Astronaut:["NASA","Armstrong","Armstrong"],Quidditch:["Sport","Potter","Harry"],Titanic:["Iceberg","1912","Leonardo"]},pt=[{name:"Sarah",id:"1"},{name:"Tom",id:"2"},{name:"Lisa",id:"3"}];var ht=[[{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.LOBBY.NAME"},"Enter your name"),title:i.a.createElement(T.a,{i18nKey:"TUTORIAL.LOBBY.WELCOME"},"Welcome"),target:".name-input",disableBeacon:!0},{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.LOBBY.COLOR"},"Choose a color"),target:".name-input + div"},{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.LOBBY.JOIN"},"Join the game"),target:".submitBtn"}],[{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.LOBBY.TEAMMATES"},"Here are your teammates"),title:i.a.createElement(T.a,{i18nKey:"TUTORIAL.LOBBY.WELCOME_NAME"},"Hello friend"),target:".Player-list",placement:"left",disableBeacon:!0},{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.LOBBY.START"},"Start the game"),title:i.a.createElement(T.a,{i18nKey:"TUTORIAL.LOBBY.START_TITLE"},"Let's start"),target:".submitBtn"}]],gt=[[{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.PREPARATION.EXPLANATION"},"Enter a word"),title:i.a.createElement(T.a,{i18nKey:"TUTORIAL.PREPARATION.WELCOME"},"Game preparation"),target:".New-player",placement:"center",disableBeacon:!0},{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.PREPARATION.WORD",tOptions:{word:ut[0]}},"Enter word"),target:".MuiTextField-root"},{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.PREPARATION.SUBMIT"},"Submit your word"),target:".submitBtn"}]],ft=[[{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.ENTER_HINT.1",tOptions:{word:ut[0],player:pt[0].name}},"Enter a hint"),title:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.ENTER_HINT.TITLE1"},"First round"),target:".WordHint-withInput",disableBeacon:!0}],[{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.ENTER_HINT.2",tOptions:{word:ut[1],player:pt[1].name}},"Enter a hint"),title:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.ENTER_HINT.TITLE2"},"Second round"),target:".WordHint-withInput",disableBeacon:!0}],[{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.ENTER_HINT.3",tOptions:{word:ut[2],player:pt[2].name}},"Enter a hint"),title:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.ENTER_HINT.TITLE3"},"Third round"),target:".WordHint-withInput",disableBeacon:!0}],[]],Et=[[],[],[{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.TOGGLE_INFO"},"Toggle hints"),title:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.TOGGLE_INFO_TITLE"},"Toggle hints"),target:".Current-hints",spotlightClicks:!1,placement:"center",disableBeacon:!0},{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.TOGGLE_BTN"},"Use the smiley"),target:".MuiCheckbox-root"},{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.START_GUESSING"},"Continue"),target:".submitBtn"}],[]],bt=[[],[],[],[{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.GUESS"},"Guess the word"),title:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.GUESS_TITLE"},"Your turn!"),target:".WordCard-withInput",disableBeacon:!0}]],Ot=[[{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.SOLUTION.CONTINUE",tOptions:{player:pt[0].name}},"This was correct. Let's continue"),target:".Current-word",disableBeacon:!0}],[{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.DUPLICATE_INFO"},"Notice that duplicate hints will be removed"),title:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.DUPLICATE_INFO_TITLE"},"Oh no!"),target:".Current-hints",placement:"center",disableBeacon:!0},{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.SOLUTION.WRONG",tOptions:{player:pt[1].name}},"The answer was wrong"),target:".Current-word"},{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.SOLUTION.WRONG_CONTINUE"},"Press here to continue"),target:".tutorialBtn"}],[{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.SOLUTION.INFO"},"You can count the result anyway"),target:".Current-word",placement:"center",disableBeacon:!0},{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.SOLUTION.COUNT_WRONG"},"If wrong"),target:".submitBtn.wrong"},{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.SOLUTION.COUNT_CORRECT"},"If correct"),target:".submitBtn.correct"}],[]],yt=[{content:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.END_INFO"},"And here are the results for this game"),title:i.a.createElement(T.a,{i18nKey:"TUTORIAL.GAME.END_INFO_TITLE"},"That's it!"),target:".Game-end-view",placement:"center",disableBeacon:!0}],vt=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).currentUserId=localStorage.getItem("playerId")||"",n.currentUserName=localStorage.getItem("playerName")||"",n._interval=void 0,n._isMounted=!1,n.createGame=n.createGame.bind(Object(ee.a)(n)),n.startTutorial=n.startTutorial.bind(Object(ee.a)(n)),n.loadGames=n.loadGames.bind(Object(ee.a)(n)),n.handleChange=n.handleChange.bind(Object(ee.a)(n)),n.triggerDeleteGame=n.triggerDeleteGame.bind(Object(ee.a)(n)),n.deleteGame=n.deleteGame.bind(Object(ee.a)(n)),n.state={allGames:[],newGameName:null,gamesLoading:!0},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0,Ce(),this.loadGames()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,clearInterval(this._interval)}},{key:"loadGames",value:function(){var e=Object(Z.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({gamesLoading:!0}),e.prev=1,e.next=4,we();case 4:if(t=e.sent,this._isMounted){e.next=7;break}return e.abrupt("return");case 7:this.setState({allGames:t,gamesLoading:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),this.props.enqueueSnackbar(de.t("ERROR.LOAD_GAMES","Fehler"),{variant:"error"}),this.setState({gamesLoading:!1});case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"triggerDeleteGame",value:function(e){var t=this;this.setState((function(t){return{allGames:t.allGames.filter((function(t){return t.id!==e}))}}));this.props.enqueueSnackbar(de.t("HOME.DELETED_GAME","Spiel gel\xf6scht"),{action:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a,{onClick:function(){t.props.closeSnackbar(e),t.loadGames()},color:"inherit"},i.a.createElement(T.a,{i18nKey:"COMMON.UNDO"},"R\xfcckg\xe4ngig")))},onClose:function(a,n){"instructed"!==n&&t.deleteGame(e)}})}},{key:"deleteGame",value:function(){var e=Object(Z.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(t);case 2:this.loadGames();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState({newGameName:e.target.value})}},{key:"createGame",value:function(){var e=Object(Z.a)(X.a.mark((function e(){var t,a,n,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:"",name:"",words:[],players:[],hostId:"",wordsPerPlayer:2,round:0,phase:0,rounds:[]},null===(a=this.state.newGameName)&&(a=Tt(this.currentUserName)),t.name=a,e.prev=4,e.next=7,Ge(t);case 7:n=e.sent,r=n.id,i=n.playerId,this.currentUserId!==i&&localStorage.setItem("playerId",i),this.props.history.push("/"+r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),this.props.enqueueSnackbar(de.t("ERROR.CREATE_GAME","Fehler"),{variant:"error"});case 17:case"end":return e.stop()}}),e,this,[[4,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"startTutorial",value:function(){this.props.history.push("/tutorial")}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.newGameName,n=t.allGames,r=t.gamesLoading;return null===a&&(a=Tt(this.currentUserName)),i.a.createElement(te.a,{maxWidth:"sm",className:e.root},i.a.createElement(ae.a,{className:e.newGame},i.a.createElement(ne.a,{label:i.a.createElement(T.a,{i18nKey:"HOME.GAME_NAME"},"Spielname"),value:a,onChange:this.handleChange}),i.a.createElement(N.a,{variant:"contained",color:"primary",onClick:this.createGame},i.a.createElement(T.a,{i18nKey:"HOME.NEW_GAME"},"Neues Spiel"))),i.a.createElement(ae.a,{mb:2},i.a.createElement(N.a,{variant:"contained",onClick:this.startTutorial},i.a.createElement(T.a,{i18nKey:"HOME.START_TUTORIAL"},"Tutorial"))),i.a.createElement(ae.a,{mb:2},i.a.createElement(Ae,{loading:r},i.a.createElement(N.a,{variant:"contained",onClick:this.loadGames},i.a.createElement(T.a,{i18nKey:"HOME.LOAD_GAMES"},"Spiele aktualisieren")))),i.a.createElement(je,{allGames:n,deleteGame:this.triggerDeleteGame}))}}]),a}(i.a.Component);function Tt(e){return e?de.t("HOME.NEW_GAME_PERSONAL","Neues Spiel",{name:e}):de.t("HOME.NEW_GAME","Neues Spiel")}var It,kt=Object(m.f)(Object(E.b)(Object(P.a)((function(e){return Object(x.a)({root:Object(l.a)(Object(l.a)({},O.flexCenter),{},{flexDirection:"column"}),newGame:Object(l.a)(Object(l.a)({},O.flexCenter),{},{flexDirection:"column",padding:e.spacing(2),margin:"".concat(e.spacing(2),"px 0"),"& button":{marginTop:e.spacing(2)}})})}))(vt))),Ct=a(123),jt=a.n(Ct),Nt=a(122),At=a.n(Nt),wt=a(220),St=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).state={value:e.defaultValue||""},n.handleChange=n.handleChange.bind(Object(ee.a)(n)),n.submitHint=n.submitHint.bind(Object(ee.a)(n)),n.keyPressed=n.keyPressed.bind(Object(ee.a)(n)),n}return Object(U.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"submitHint",value:function(){this.props.submitHint(this.state.value),this.setState({value:""})}},{key:"keyPressed",value:function(e){"Enter"===e.key&&this.submitHint()}},{key:"render",value:function(){var e=this.props,t=e.label,a=e.classes,n=this.state.value;return i.a.createElement(ae.a,{width:1,ml:t?5:7,mr:2,className:a.root},i.a.createElement(ne.a,{label:t||de.t("GAME.COMMON.ENTER_HINT","Hinweis eingeben"),fullWidth:!0,value:n,onChange:this.handleChange,onKeyPress:this.keyPressed}),i.a.createElement(C.a,{color:"primary",disabled:!n,onClick:this.submitHint},i.a.createElement(wt.a,null)))}}]),a}(i.a.Component),Rt=Object(P.a)((function(e){return Object(x.a)({root:Object(l.a)({},O.flexCenter)})}))(St),Mt=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.top,n=e.bottom,r=e.left,o=e.right,c=e.handwriting,s=e.color,l=e.m,u=e.classes;if(!t)return null;var m=[u.root];return a&&m.push(u.top),n&&m.push(u.bottom),r&&m.push(u.left),o&&m.push(u.right),c&&m.push(u.handwriting),i.a.createElement(ae.a,{m:l||1,className:m.join(" "),style:{color:s}},t)}}]),a}(i.a.Component),Gt=Object(P.a)((function(e){return Object(x.a)({root:{position:"absolute",whiteSpace:"normal",fontSize:"1.2rem",lineHeight:1},top:{top:0},bottom:{bottom:0},left:{left:0},right:{right:0},handwriting:Object(l.a)({},O.handwriting)})}))(Mt),Lt=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=this.props,t=e.color,a=e.classes,n={backgroundColor:t},r={borderTopColor:t};return i.a.createElement("div",{className:a.pencil},i.a.createElement("div",{className:a.body,style:n}),i.a.createElement("div",{className:a.nib,style:r}))}}]),a}(i.a.Component),xt=Object(P.a)((function(e){return Object(x.a)({pencil:{width:12,marginLeft:24,transform:"rotate(35deg)",animation:"$pencil .5s forwards",animationIterationCount:"infinite"},body:{width:12,height:48,backgroundColor:"black",borderTopLeftRadius:3,borderTopRightRadius:3},nib:{width:2,height:0,borderTop:"".concat(12,"px solid black"),borderLeft:"".concat(5,"px solid transparent"),borderRight:"".concat(5,"px solid transparent")},"@keyframes pencil":{"0%":{transform:"rotate(35deg)"},"50%":{transform:"rotateZ(25deg)"},"100%":{transform:"rotateZ(35deg)"}}})}))(Lt),Pt=a(227),Kt=a(221),Ut=a(222),_t=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.hint,n=t.color,r=t.author,o=t.showPencil,c=t.showCheck,s=t.showCross,l=t.submitHint,u=t.toggleDuplicate,m=t.duplicate,p=t.defaultValue,h=t.classes,g={color:n,borderColor:n},f=[h.root];if(o&&f.push(h.writing),m&&f.push(h.duplicate),l&&f.push("WordHint-withInput"),l)e=i.a.createElement(Rt,{submitHint:l,defaultValue:p});else if(s)e=i.a.createElement(ae.a,{fontSize:80},"\u2717");else if(c)e=i.a.createElement(ae.a,{fontSize:80},"\u2713");else{var E=[];a&&a.length>18?E.push(h.hugeWord):a&&a.length>12&&E.push(h.longWord),m&&E.push(h.lineThrough),e=i.a.createElement(j.a,{variant:"h2",className:E.join(" ")},a)}return i.a.createElement(ie.a,{item:!0,xs:12},i.a.createElement(d.a,{className:f.join(" "),style:m?void 0:g},e,o&&i.a.createElement(xt,{color:n}),u&&i.a.createElement(Pt.a,{className:h.toggleBtn,icon:i.a.createElement(Kt.a,null),checkedIcon:i.a.createElement(Ut.a,null),checked:m||!1,onChange:function(){return u()}}),i.a.createElement(Gt,{bottom:!0,left:!0,handwriting:!0,color:n},r)))}}]),a}(i.a.Component),Ht=Object(P.a)((function(e){return Object(x.a)({root:Object(l.a)(Object(l.a)({},O.flexCenter),{},{height:100,fontSize:48,border:"2px solid black",whiteSpace:"nowrap",position:"relative"}),writing:{borderStyle:"dotted"},longWord:{fontSize:32},hugeWord:{fontSize:24},duplicate:{borderStyle:"dashed",color:e.palette.grey.A200,borderColor:e.palette.grey.A200},lineThrough:{textDecoration:"line-through"},toggleBtn:{position:"absolute",right:e.spacing(1),zIndex:1}})}))(_t),Dt=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(ee.a)(n)),n.setColor=n.setColor.bind(Object(ee.a)(n)),n.addPlayer=n.addPlayer.bind(Object(ee.a)(n)),n}return Object(U.a)(a,[{key:"handleChange",value:function(e){"name"===e.target.name&&(this.props.currentPlayer.name=e.target.value,this.props.updatePlayer(this.props.currentPlayer))}},{key:"setColor",value:function(e){this.props.currentPlayer.color=e,this.props.updatePlayer(this.props.currentPlayer)}},{key:"addPlayer",value:function(){this.props.addPlayer(this.props.currentPlayer)}},{key:"render",value:function(){var e=this.props,t=e.currentPlayer,a=e.classes;return i.a.createElement("div",{className:a.root},i.a.createElement(ne.a,{className:"name-input",required:!0,label:i.a.createElement(T.a,{i18nKey:"COMMON.PLAYER_NAME"},"Spielername"),name:"name",value:t.name,onChange:this.handleChange}),i.a.createElement(et,{select:this.setColor,selected:t.color}),i.a.createElement(N.a,{variant:"contained",color:"primary",className:"submitBtn",disabled:!t.name,onClick:this.addPlayer},i.a.createElement(T.a,{i18nKey:"GAME.LOBBY.JOIN"},"Mitspielen")))}}]),a}(i.a.Component),Bt=Object(P.a)((function(e){return Object(x.a)({root:Object(l.a)(Object(l.a)({},O.flexCenter),{},{flexDirection:"column"})})}))(Dt),Wt=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){for(var e=this.props,t=e.open,a=e.onClose,n=e.numOfPlayers,r=[],o=function(e){var t=e+1,o=t*n;r.push(i.a.createElement(Y.a,{button:!0,onClick:function(){a(t)},key:t},i.a.createElement(z.a,{primary:i.a.createElement(T.a,{i18nKey:"GAME.LOBBY.ROUND_SELECT.NUM",count:o},{roundCount:o}," Runden"),secondary:i.a.createElement(T.a,{i18nKey:"GAME.LOBBY.ROUND_SELECT.WORDS",count:t},{wordCount:t}," Begriff(e) pro Spieler")})))},c=0;c<3;c++)o(c);return i.a.createElement(D.a,{onClose:function(){a()},open:t,disableBackdropClick:!0},i.a.createElement(B.a,null,i.a.createElement(T.a,{i18nKey:"GAME.LOBBY.ROUND_SELECT.HEADING"},"Lege die Rundenanzahl fest")),i.a.createElement(W.a,null,r))}}]),a}(i.a.Component),Yt=a(232),zt=a(119),Vt=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=this.props,t=e.game,a=e.getHelpers,n=e.theme;if(!t.$isTutorial)return null;var r=function(e){var t;switch(e.phase){case b.Init:t=ht[e.players.length?1:0],e.players.length>0&&(t[0].title=i.a.createElement(T.a,{i18nKey:"TUTORIAL.LOBBY.WELCOME_NAME",tOptions:{name:e.players[0].name}},"Hello friend"));break;case b.Preparation:t=gt[0];break;case b.HintWriting:t=ft[e.round];break;case b.HintComparing:t=Et[e.round];break;case b.Guessing:t=bt[e.round];break;case b.Solution:t=Ot[e.round];break;case b.End:t=yt}return t}(t);return i.a.createElement(zt.a,{steps:r,styles:{options:{primaryColor:n.palette.primary.main,backgroundColor:n.palette.background.paper,arrowColor:n.palette.background.paper,textColor:n.palette.text.primary,overlayColor:n.palette.action.disabled,spotlightShadow:n.shadows[8],zIndex:100}},locale:{back:i.a.createElement(T.a,{i18nKey:"TUTORIAL.CONTROLS.BACK",defaultValue:"Back"}),close:i.a.createElement(T.a,{i18nKey:"TUTORIAL.CONTROLS.CLOSE",defaultValue:"Close"}),last:i.a.createElement(T.a,{i18nKey:"TUTORIAL.CONTROLS.DONE",defaultValue:"Done"}),next:i.a.createElement(T.a,{i18nKey:"TUTORIAL.CONTROLS.NEXT",defaultValue:"Next"}),skip:i.a.createElement(T.a,{i18nKey:"TUTORIAL.CONTROLS.SKIP",defaultValue:"Skip"})},getHelpers:a,continuous:!0,spotlightClicks:!0})}}]),a}(i.a.Component),$t=Object(Yt.a)(Vt),Ft=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).state={currentPlayer:{id:localStorage.getItem("playerId")||"",name:localStorage.getItem("playerName")||"",color:Xe(localStorage.getItem("playerColor"),e.game.players.map((function(e){return e.color})))},roundDialogOpen:!1},n.addPlayer=n.addPlayer.bind(Object(ee.a)(n)),n.setPlayerProps=n.setPlayerProps.bind(Object(ee.a)(n)),n.selectNumRounds=n.selectNumRounds.bind(Object(ee.a)(n)),n.startPreparation=n.startPreparation.bind(Object(ee.a)(n)),n.shareGame=n.shareGame.bind(Object(ee.a)(n)),n}return Object(U.a)(a,[{key:"setPlayerProps",value:function(e){this.setState({currentPlayer:e})}},{key:"addPlayer",value:function(){var e=Object(Z.a)(X.a.mark((function e(t){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.game.$isTutorial){e.next=5;break}return rt(t),this.setLocalPlayer(t),this.props.triggerReload(),e.abrupt("return");case 5:return e.next=7,Pe(this.props.game.id,t);case 7:if(a=e.sent){e.next=10;break}return e.abrupt("return");case 10:this.setLocalPlayer(a),this.props.triggerReload();case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setLocalPlayer",value:function(e){localStorage.setItem("playerId",e.id),localStorage.setItem("playerName",e.name),e.color&&localStorage.setItem("playerColor",e.color),this.props.setTheme&&e.color&&this.props.setTheme(e.color);var t=e.name;this.props.enqueueSnackbar(i.a.createElement(ae.a,{display:"flex",alignItems:"center"},i.a.createElement(ae.a,{mr:1},i.a.createElement(At.a,null)),i.a.createElement(T.a,{i18nKey:"COMMON.WELCOME_NAME"},"Hello ",{name:t})),{}),this.setState({currentPlayer:e})}},{key:"selectNumRounds",value:function(){if(this.props.game.$isTutorial)return it(),void this.props.triggerReload();this.setState({roundDialogOpen:!0})}},{key:"startPreparation",value:function(){var e=Object(Z.a)(X.a.mark((function e(){var t,a=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:2,this.setState({roundDialogOpen:!1}),e.next=4,He(this.props.game.id,t);case 4:this.props.triggerReload();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shareGame",value:function(){var e=window.location.href;if(navigator.share)navigator.share({title:document.title||de.t("APP_TITLE","Nur ein Wort!"),text:de.t("GAME.LOBBY.INVITE_PLAYERS_MESSAGE","Spiele online mit mir"),url:e});else try{navigator.clipboard.writeText(e),this.props.enqueueSnackbar(i.a.createElement(T.a,{i18nKey:"GAME.LOBBY.COPIED_LINK"},"Link kopiert"))}catch(t){this.props.enqueueSnackbar(i.a.createElement(T.a,{i18nKey:"GAME.LOBBY.COPIED_LINK_ERROR"},"Fehler beim Link kopieren"),{variant:"error"})}}},{key:"render",value:function(){var e=this.props.game,t=this.state,a=t.currentPlayer,n=t.roundDialogOpen,r=localStorage.getItem("playerId")||"",o=!!r&&e.hostId===r,c=!1,s=e.players.map((function(e){return e.id===r&&(c=!0),i.a.createElement(Ht,{key:e.id,hint:e.name,color:e.color})})),l=a.name?a.name:"?",u=a.color?a.color:Xe();return i.a.createElement(ie.a,{container:!0,spacing:4,className:"Game-lobby"},i.a.createElement(ie.a,{item:!0,xs:12,sm:6,container:!0,spacing:2,className:"New-player"},c?i.a.createElement(ie.a,{item:!0,xs:12},i.a.createElement(d.a,{className:"StatusInfo"},i.a.createElement(T.a,{i18nKey:"GAME.LOBBY.WAIT_MESSAGE",tOptions:{context:o?"HOST":"PLAYER"}},"Warten auf Mitspieler ... Sobald alle Mitspieler da sind, kann der Spielleiter das Spiel starten."))):i.a.createElement(ie.a,{item:!0,xs:12},i.a.createElement(Bt,{currentPlayer:a,updatePlayer:this.setPlayerProps,addPlayer:this.addPlayer})),c&&!e.$isTutorial&&i.a.createElement(ie.a,{item:!0,xs:12},i.a.createElement(N.a,{variant:"contained",startIcon:i.a.createElement(jt.a,null),onClick:this.shareGame},i.a.createElement(T.a,{i18nKey:"GAME.LOBBY.INVITE_PLAYERS"},"Personen einladen"))),o&&c&&i.a.createElement(ie.a,{item:!0,xs:12},i.a.createElement(N.a,{variant:"contained",color:"primary",className:"submitBtn",disabled:e.players.length<3,onClick:this.selectNumRounds},i.a.createElement(T.a,{i18nKey:"GAME.LOBBY.START_BUTTON"},"Alle Spieler sind da")))),i.a.createElement(ie.a,{item:!0,xs:12,sm:6,container:!0,spacing:2,alignItems:"center",className:"Player-list"},i.a.createElement(ie.a,{item:!0,xs:12,component:j.a,variant:"h5"},i.a.createElement(T.a,{i18nKey:"COMMON.TEAMMATES"},"Mitspieler")),s,!c&&i.a.createElement(Ht,{hint:l,color:u,showPencil:!0})),i.a.createElement(Wt,{numOfPlayers:e.players.length,open:n,onClose:this.startPreparation}),i.a.createElement($t,{key:c?"1":"2",game:e}))}}]),a}(i.a.Component),qt=Object(E.b)(Ft),Jt=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e,t,a=this.props,n=a.word,r=a.guesser,o=a.color,c=a.isGuesser,s=a.guess,l=a.guessedRight,u=a.showInput,m=a.submitHint,p=a.small,h=a.classes,g=[h.wordCard],f={borderColor:o};return s?(t=de.t("GAME.COMMON.WORD","Begriff")+": "+n,g.push(l?h.correct:h.wrong),delete f.borderColor):r&&(e=i.a.createElement(T.a,{i18nKey:"GAME.COMMON.TURN_GUESSING",tOptions:{context:c?"ME":""}},{guesser:r}," muss raten")),p&&g.push(h.small),u&&g.push("WordCard-withInput"),i.a.createElement(ie.a,{item:!0,xs:12,className:p?h.root:void 0},i.a.createElement(d.a,{className:g.join(" "),style:f},u&&m?i.a.createElement(Rt,{submitHint:m,label:de.t("GAME.COMMON.GUESS","Rateversuch")}):i.a.createElement("span",{className:s&&h.guess,style:{color:s&&o}},s||n),i.a.createElement(Gt,{bottom:!0,left:!0,handwriting:!0,color:o,m:2},e),i.a.createElement(Gt,{bottom:!0,right:!0,m:2},t)))}}]),a}(i.a.Component),Qt=Object(P.a)((function(e){return Object(x.a)({root:Object(l.a)(Object(l.a)({},O.flexCenter),{},{width:"100%"}),wordCard:Object(l.a)(Object(l.a)({},O.flexCenter),{},{height:220,maxHeight:"30vh",minHeight:150,fontSize:32,border:"2px solid black",whiteSpace:"nowrap",position:"relative"}),guess:Object(l.a)({},O.handwriting),correct:{borderColor:e.palette.success.main},wrong:{borderColor:e.palette.error.main},small:{maxWidth:250,height:125,fontSize:24,flex:"1 1 auto"}})}))(Jt),Xt=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(e){var n;Object(K.a)(this,a),n=t.call(this,e);var r=[];if(e.defaultValue)for(var i=0;i<e.numOfWords;i++)r.push(e.defaultValue);return n.state={words:r},n.handleChange=n.handleChange.bind(Object(ee.a)(n)),n.keyPressed=n.keyPressed.bind(Object(ee.a)(n)),n}return Object(U.a)(a,[{key:"handleChange",value:function(e){var t=parseInt(e.target.name.substr(4)),a=e.target.value;this.setState((function(e,n){var r=e.words;return r[t]=a,{words:r}}))}},{key:"keyPressed",value:function(e){if("Enter"===e.key){var t=this.state.words;t.length<this.props.numOfWords||t.some((function(e){return!e||0===e.length}))||this.props.add(t)}}},{key:"render",value:function(){for(var e=this.props,t=e.add,a=e.numOfWords,n=this.state.words,r=[],o=0;o<a;o++){var c=de.t("GAME.PREP.WORD_ADDER.LABEL","Wort "+(o+1),{count:a,index:o+1});r.push(i.a.createElement(ne.a,{required:!0,label:c,placeholder:de.t("GAME.PREP.WORD_ADDER.PLACEHOLDER","Ratebegriff eingeben"),name:"word".concat(o),key:"word".concat(o),value:n[o]||"",onChange:this.handleChange,onKeyPress:this.keyPressed}))}var s=n.length<a||n.some((function(e){return!e||0===e.length}));return i.a.createElement("div",{className:"Word-adder"},i.a.createElement(j.a,{variant:"subtitle1"},i.a.createElement(T.a,{i18nKey:"GAME.PREP.WORD_ADDER.HEADING",count:a},"Gib Begriffe f\xfcr das Spiel ein")),r,i.a.createElement(N.a,{variant:"contained",color:"primary",className:"submitBtn",disabled:s,onClick:function(){return t(n)}},i.a.createElement(T.a,{i18nKey:"GAME.PREP.WORD_ADDER.BUTTON",count:a},"Jetzt abschicken")))}}]),a}(i.a.Component),Zt=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).currentPlayer={id:localStorage.getItem("playerId")||"",name:localStorage.getItem("playerName")||"",color:Xe(localStorage.getItem("playerColor"))},n.addWords=n.addWords.bind(Object(ee.a)(n)),n}return Object(U.a)(a,[{key:"addWords",value:function(){var e=Object(Z.a)(X.a.mark((function e(t){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.game.$isTutorial){e.next=4;break}return it(),this.props.triggerReload(),e.abrupt("return");case 4:return(a=this.currentPlayer).enteredWords=t,e.next=8,Ue(this.props.game.id,a);case 8:this.props.triggerReload();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.game,a=t.wordsPerPlayer||2,n=localStorage.getItem("playerId")||"",r=!1,o=[],c=!1,s=t.players.map((function(e){var t=!!e.enteredWords&&e.enteredWords.length===a;return e.id===n&&(r=!0,o=e.enteredWords||[],c=t),i.a.createElement(Ht,{key:e.id,hint:e.name,color:e.color,showPencil:!t})})),l=t.$isTutorial?ut[0]:void 0,u=o.map((function(t){return i.a.createElement(Qt,{key:t,small:!0,word:t,color:e.currentPlayer.color})}));return i.a.createElement(ie.a,{container:!0,spacing:4,className:"Game-lobby"},i.a.createElement(ie.a,{item:!0,xs:12,sm:6,container:!0,spacing:2,className:"New-player"},c||!r?i.a.createElement(ie.a,{item:!0,xs:12},i.a.createElement(d.a,{className:"StatusInfo"},i.a.createElement(T.a,{i18nKey:"GAME.PREP.WAIT_MESSAGE"},"Warten auf Mitspieler ... Sobald alle fertig sind, geht's los."))):i.a.createElement(ie.a,{item:!0,xs:12},i.a.createElement(Xt,{add:this.addWords,numOfWords:a,defaultValue:l})),u.length>0&&i.a.createElement(ie.a,{item:!0,xs:12,component:j.a,variant:"subtitle1"},i.a.createElement(T.a,{i18nKey:"GAME.PREP.MY_WORDS",count:o.length},"Meine Begriffe")),u),i.a.createElement(ie.a,{item:!0,xs:12,sm:6,container:!0,spacing:2,alignItems:"center",className:"Player-list"},i.a.createElement(ie.a,{item:!0,xs:12,component:j.a,variant:"h5"},i.a.createElement(T.a,{i18nKey:"COMMON.TEAMMATES"},"Mitspieler")),s),i.a.createElement($t,{game:t}))}}]),a}(i.a.Component),ea=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={shownPrevResult:!1},e._isMounted=!1,e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.props.closeSnackbar()}},{key:"render",value:function(){var e=this,t=this.props.game,a=this.state.shownPrevResult,n=ve(t).map((function(e){return i.a.createElement(Qt,{key:e.word,small:!0,word:e.word,guess:e.guess,guessedRight:!0})})),r=Te(t).map((function(e){return i.a.createElement(Qt,{key:e.word,small:!0,word:e.word,guess:e.guess,guessedRight:!1})}));return a||(ye(t,this.props.enqueueSnackbar,de,this.props.triggerConfetti),setTimeout((function(){return e.setState({shownPrevResult:!0})}),0)),i.a.createElement(ie.a,{container:!0,spacing:4,className:"Game-end-view"},i.a.createElement(ie.a,{item:!0,xs:12,md:6,container:!0,spacing:2,className:"Correct-words"},i.a.createElement(ie.a,{item:!0,xs:12,component:j.a,variant:"h4"},i.a.createElement(T.a,{i18nKey:"GAME.END.RIGHT",count:n.length},"Richtig")),n),i.a.createElement(ie.a,{item:!0,xs:12,md:6,container:!0,spacing:2,className:"Wrong-words"},i.a.createElement(ie.a,{item:!0,xs:12,component:j.a,variant:"h4"},i.a.createElement(T.a,{i18nKey:"GAME.END.WRONG",count:r.length},"Falsch")),r),i.a.createElement($t,{game:t,key:"tutorial"}))}}]),a}(i.a.Component),ta=Object(E.b)(ea),aa=a(124),na=a.n(aa),ra=a(230);!function(e){e.DEFAULT="default",e.CORRECT="correct",e.WRONG="wrong"}(It||(It={}));var ia=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.classes,n=[a.root];t===It.CORRECT&&n.push(a.correct),t===It.WRONG&&n.push(a.wrong);var r=i.a.createElement("div",{className:n.join(" ")},t===It.CORRECT&&i.a.createElement(Je.a,{fontSize:"inherit"}),t===It.WRONG&&i.a.createElement(na.a,{fontSize:"inherit"}),i.a.createElement("div",null,this.props.children));return this.props.title&&(r=i.a.createElement(ra.a,{title:this.props.title,"aria-label":this.props.title},r)),r}}]),a}(i.a.Component),oa=Object(P.a)((function(e){return Object(x.a)({root:{display:"inline-flex",alignItems:"center",border:"2px solid currentColor",borderRadius:5,padding:"0 .5ex 0 .25ex",margin:".25ex .5ex",verticalAlign:"middle",cursor:"default"},correct:{color:e.palette.success.main},wrong:{color:e.palette.error.main}})}))(ia),ca=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"componentDidMount",value:function(){document.body.classList.add(this.props.classes.body)}},{key:"componentWillUnmount",value:function(){document.body.classList.remove(this.props.classes.body)}},{key:"render",value:function(){var e,t=this.props,a=t.game,n=t.classes,r=a.rounds[a.round],o=(Oe(a,r.hostId)||{name:"?"}).name,c=(Oe(a,r.guesserId)||{name:"?"}).name;switch(a.phase){case b.HintWriting:var s=a.players.filter((function(e){return e.id!==r.guesserId})).map((function(e){return e.name})),l=s.slice(0,s.length-1).join(", ")+" und "+s[s.length-1];e=i.a.createElement(T.a,{i18nKey:"GAME.STATS.PHASE_WRITING"},{playersString:l}," schreiben Hinweise auf...");break;case b.HintComparing:e=i.a.createElement(T.a,{i18nKey:"GAME.STATS.PHASE_COMPARING"},{roundHostName:o}," \xfcberpr\xfcft die Hinweise ...");break;case b.Guessing:e=i.a.createElement(T.a,{i18nKey:"GAME.STATS.PHASE_GUESSING"},{guesserName:c}," versucht den Begriff zu erraten...");break;case b.Solution:e=r.correct?i.a.createElement(T.a,{i18nKey:"GAME.STATS.PHASE_SOLUTION"},{guesserName:c}," lag genau richtig!"):i.a.createElement(T.a,{i18nKey:"GAME.STATS.PHASE_SOLUTION_WRONG"},{roundHostName:o}," lag daneben! ",{guesserName:c}," entscheidet ob es trotzdem z\xe4hlt...")}var u=a.round+1,m=a.words.length,d=ve(a).length,p=Te(a).length;return i.a.createElement("div",{className:n.root},i.a.createElement(I.a,{position:"fixed",color:"default",className:n.appbar},i.a.createElement("div",{className:n.contents},i.a.createElement("div",null,i.a.createElement(T.a,{i18nKey:"GAME.STATS.ROUND"},"Runde ",{round:u},"/",{roundCount:m})),i.a.createElement("div",null,i.a.createElement(T.a,{i18nKey:"GAME.STATS.PHASE"},"Phase"),": ",e),i.a.createElement("div",null,i.a.createElement(oa,{type:It.CORRECT,title:de.t("GAME.STATS.RIGHT",{rightCount:d}).toString()},d),i.a.createElement(oa,{type:It.WRONG,title:de.t("GAME.STATS.WRONG",{wrongCount:p}).toString()},p)))))}}]),a}(i.a.Component),sa=Object(P.a)((function(e){return Object(x.a)({root:{width:"100%",height:50},appbar:{top:"auto",bottom:0,marginBottom:0},contents:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(1)},body:{"& .MuiCollapse-wrapperInner":{transform:"translateY(-48px)"}}})}))(ca),la=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return i.a.createElement(ie.a,{container:!0,spacing:4,className:"Game-field"},i.a.createElement(ie.a,{item:!0,xs:12,md:5,container:!0,spacing:2,className:"Current-word"},i.a.createElement(ie.a,{item:!0,xs:12,component:j.a,variant:"h5"},i.a.createElement(T.a,{i18nKey:"GAME.COMMON.WORD"},"Begriff")),this.props.leftCol),i.a.createElement(ie.a,{item:!0,xs:12,md:7,container:!0,spacing:2,className:"Current-hints"},i.a.createElement(ie.a,{item:!0,xs:12,component:j.a,variant:"h5"},i.a.createElement(T.a,{i18nKey:"GAME.COMMON.PLAYER_HINTS"},"Spieler-Hinweise")),this.props.rightCol))}}]),a}(i.a.Component),ua=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).state={shownMessage:!1,shownPrevResult:!1},n._isMounted=!1,n.submitHint=n.submitHint.bind(Object(ee.a)(n)),n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"submitHint",value:function(){var e=Object(Z.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.game.$isTutorial){e.next=4;break}return it(t),this.props.triggerReload(),e.abrupt("return");case 4:return e.next=6,De(this.props.game.id,t);case 6:this.props.triggerReload();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.game,a=this.state,n=a.shownMessage,r=a.shownPrevResult,o=t.rounds[t.round],c=Ie(t),s=Oe(t,o.guesserId)||{name:"?",id:"?"},l=c&&c.id===s.id;r||(ye(t,this.props.enqueueSnackbar,de,this.props.triggerConfetti),setTimeout((function(){return e.setState({shownPrevResult:!0})}),0));var u=l?"?":o.word||"",m=o.hints.map((function(a,r){var s=a.hint,l=c&&c.id===a.authorId,u=Oe(t,a.authorId)||{name:"?",id:"?"},m=l?de.t("COMMON.ME","Ich"):u.name,d=!s||l,p=!s&&l;return!l||s||n||(e.props.enqueueSnackbar(de.t("GAME.MESSAGE.YOUR_TURN","Du bist dran!",{context:"HINT_WRITING"}),{variant:"info",preventDuplicate:!0}),setTimeout((function(){return e.setState({shownMessage:!0})}),0)),i.a.createElement(Ht,{key:a.authorId+r,hint:s,color:u.color,showPencil:!p&&!s,submitHint:p?e.submitHint:void 0,showCheck:!d,author:m,defaultValue:t.$isTutorial&&l?dt[o.word][0]:void 0})}));return i.a.createElement(la,{leftCol:[i.a.createElement(Qt,{word:u,guesser:s.name,isGuesser:l,color:s.color,key:"1"}),i.a.createElement($t,{game:t,key:"tutorial"})],rightCol:m})}}]),a}(i.a.Component),ma=Object(E.b)(ua),da=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).state={shownMessage:!1},n._isMounted=!1,n.toggleDuplicate=n.toggleDuplicate.bind(Object(ee.a)(n)),n.showHints=n.showHints.bind(Object(ee.a)(n)),n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"toggleDuplicate",value:function(){var e=Object(Z.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.game.$isTutorial){e.next=4;break}return ot(this.props.game,t),this.props.triggerReload(),e.abrupt("return");case 4:return e.next=6,Be(this.props.game.id,t);case 6:this.props.triggerReload();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showHints",value:function(){var e=Object(Z.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.game.$isTutorial){e.next=4;break}return it(),this.props.triggerReload(),e.abrupt("return");case 4:return e.next=6,t=this.props.game.id,$e("".concat(t,"/showHints"));case 6:this.props.triggerReload();case 7:case"end":return e.stop()}var t}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.game,a=this.state.shownMessage,n=t.rounds[t.round],r=Ie(t),o=Oe(t,n.guesserId)||{name:"?",id:"?"},c=r&&r.id===o.id,s=o.name,l=r&&r.id===n.hostId;l&&!a&&(this.props.enqueueSnackbar(de.t("GAME.MESSAGE.YOUR_TURN","Du bist dran!",{context:"HINT_COMPARING"}),{variant:"info",preventDuplicate:!0}),setTimeout((function(){return e.setState({shownMessage:!0})}),0));var u=c?"?":n.word||"",m=n.hints.map((function(a,n){var o=r&&r.id===a.authorId,s=Oe(t,a.authorId)||{name:"?",id:"?"},u=o?de.t("COMMON.ME","Ich"):s.name;return i.a.createElement(Ht,{key:a.authorId+n,hint:a.hint,color:s.color,showCheck:c,showCross:c&&a.isDuplicate,duplicate:a.isDuplicate,toggleDuplicate:l?function(){return e.toggleDuplicate(n)}:void 0,author:u})}));return l&&m.push(i.a.createElement(ie.a,{item:!0,xs:12,component:j.a,variant:"subtitle1",key:"info"},i.a.createElement(T.a,{i18nKey:"GAME.COMPARING.INFO"},"Markiere ung\xfcltige Hinweise")),i.a.createElement(ie.a,{item:!0,xs:12,key:"button"},i.a.createElement(N.a,{variant:"contained",color:"primary",onClick:this.showHints,className:"submitBtn"},i.a.createElement(T.a,{i18nKey:"GAME.COMPARING.BUTTON"},{guesserName:s}," kann losraten!")))),i.a.createElement(la,{leftCol:[i.a.createElement(Qt,{word:u,guesser:o.name,isGuesser:c,color:o.color,key:"1"}),i.a.createElement($t,{game:t,key:"tutorial"})],rightCol:m})}}]),a}(i.a.Component),pa=Object(E.b)(da),ha=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).state={shownMessage:!1},n._isMounted=!1,n.guess=n.guess.bind(Object(ee.a)(n)),n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"guess",value:function(){var e=Object(Z.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.game.$isTutorial){e.next=4;break}return it(t),this.props.triggerReload(),e.abrupt("return");case 4:return e.next=6,We(this.props.game.id,t);case 6:this.props.triggerReload();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.game,a=this.state.shownMessage,n=t.rounds[t.round],r=Ie(t),o=Oe(t,n.guesserId)||{name:"?",id:"?"},c=r&&r.id===o.id;c&&!a&&(this.props.enqueueSnackbar(de.t("GAME.MESSAGE.YOUR_TURN","Du bist dran!",{context:"GUESSING"}),{variant:"info",preventDuplicate:!0}),setTimeout((function(){return e.setState({shownMessage:!0})}),0));var s=c?"?":n.word||"",l=n.hints.map((function(e,a){var n=e.hint,o=r&&r.id===e.authorId,s=Oe(t,e.authorId)||{name:"?",id:"?"},l=o?de.t("COMMON.ME","Ich"):s.name;return i.a.createElement(Ht,{key:e.authorId+a,hint:n,color:s.color,showCross:c&&e.isDuplicate,duplicate:e.isDuplicate,author:l})}));return i.a.createElement(la,{leftCol:[i.a.createElement(Qt,{word:s,guesser:o.name,isGuesser:c,color:o.color,showInput:c,submitHint:this.guess,key:"1"}),i.a.createElement($t,{game:t,key:"tutorial"})],rightCol:l})}}]),a}(i.a.Component),ga=Object(E.b)(ha),fa=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).state={shownMessage:!1,shownResult:!1},n._isMounted=!1,n.resolveRound=n.resolveRound.bind(Object(ee.a)(n)),n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"resolveRound",value:function(){var e=Object(Z.a)(X.a.mark((function e(){var t,a=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(a.length>0&&void 0!==a[0])||a[0],!this.props.game.$isTutorial){e.next=5;break}return it(t?"true":void 0),this.props.triggerReload(),e.abrupt("return");case 5:return e.next=7,Ye(this.props.game.id,t);case 7:this.props.triggerReload();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.game,a=this.state,n=a.shownMessage,r=a.shownResult,o=t.rounds[t.round],c=Ie(t),s=Oe(t,o.guesserId)||{name:"?",id:"?"},l=s.name,u=c&&c.id===s.id,m=c&&c.id===o.hostId,d=o.word,p=o.guess,h=o.hints.map((function(e,a){var n=c&&c.id===e.authorId,r=Oe(t,e.authorId)||{name:"?",id:"?"},o=n?de.t("COMMON.ME","Ich"):r.name;return i.a.createElement(Ht,{key:e.authorId+a,hint:e.hint,color:r.color,author:o,duplicate:e.isDuplicate})}));if(!m||o.correct||n||(this.props.enqueueSnackbar(de.t("GAME.MESSAGE.YOUR_TURN","Du bist dran!",{context:"SOLUTION"}),{variant:"info",preventDuplicate:!0}),setTimeout((function(){return e.setState({shownMessage:!0})}),0)),!r){var g=o.correct?"CORRECT":"WRONG",f=o.correct?"success":"warning";this.props.enqueueSnackbar(de.t("GAME.MESSAGE.RESULT","".concat(l," hat geraten"),{context:g,guesserName:l,guess:o.guess}),{variant:f,preventDuplicate:!0}),o.correct&&this.props.triggerConfetti&&this.props.triggerConfetti(),setTimeout((function(){return e.setState({shownResult:!0})}),0)}var E=[];return E.push(i.a.createElement(Qt,{key:"wordCard",word:d,guesser:s.name,isGuesser:u,color:s.color,guess:p,guessedRight:o.correct})),o.correct?E.push(i.a.createElement(ie.a,{item:!0,xs:12,key:"button1"},i.a.createElement(N.a,{variant:"contained",color:"primary",onClick:function(){return e.resolveRound(!0)}},i.a.createElement(T.a,{i18nKey:"GAME.SOLUTION.CONTINUE"},"Weiter")))):m&&E.push(i.a.createElement(ie.a,{item:!0,xs:12,key:"button1"},i.a.createElement(N.a,{variant:"contained",onClick:function(){return e.resolveRound(!0)},className:"submitBtn correct"},i.a.createElement(T.a,{i18nKey:"GAME.SOLUTION.CONTINUE_RIGHT"},"Das z\xe4hlt trotzdem"))),i.a.createElement(ie.a,{item:!0,xs:12,key:"button2"},i.a.createElement(N.a,{variant:"contained",color:"primary",onClick:function(){return e.resolveRound(!1)},className:"submitBtn wrong"},i.a.createElement(T.a,{i18nKey:"GAME.SOLUTION.CONTINUE_WRONG"},"Leider falsch")))),t.$isTutorial&&(o.correct||m||E.push(i.a.createElement(N.a,{onClick:function(){it(),e.props.triggerReload()},className:"tutorialBtn",key:"tutorialBtn"},i.a.createElement(T.a,{i18nKey:"TUTORIAL.CONTINUE"},"Continue"))),E.push(i.a.createElement($t,{game:t,key:"tutorial"}))),i.a.createElement(la,{leftCol:E,rightCol:h})}}]),a}(i.a.Component),Ea=Object(E.b)(fa),ba=a(125),Oa=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).canvasRef=void 0,n.canvasRef=i.a.createRef(),e.getTrigger(n.triggerConfetti.bind(Object(ee.a)(n))),n}return Object(U.a)(a,[{key:"triggerConfetti",value:function(){var e=Object(Z.a)(X.a.mark((function e(){var t,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.canvasRef.current){e.next=6;break}return t=Object(ba.a)(this.canvasRef.current,{resize:!0}),a={colors:Qe,startVelocity:70,particleCount:70,spread:60},t(Object(l.a)(Object(l.a)({},a),{},{angle:125,origin:{x:1,y:1}})),e.next=6,t(Object(l.a)(Object(l.a)({},a),{},{angle:55,origin:{x:0,y:1}}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.root},i.a.createElement("canvas",{ref:this.canvasRef}))}}]),a}(i.a.Component),ya=Object(P.a)((function(e){return Object(x.a)({root:{position:"fixed",top:0,bottom:0,left:0,right:0,pointerEvents:"none",zIndex:9999,"& canvas":{height:"100%",width:"100%"}}})}))(Oa),va=function(e){Object(_.a)(a,e);var t=Object(H.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={triggerConfetti:function(){}},e._interval=void 0,e._isMounted=!1,e._confettiTriggered=!1,e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.loadGame(),this._interval=window.setInterval(this.loadGame.bind(this),1e3)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,clearInterval(this._interval)}},{key:"loadGame",value:function(){var e=Object(Z.a)(X.a.mark((function e(){var t,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("tutorial"!==(t=this.props.gameId)){e.next=5;break}a=at(),e.next=8;break;case 5:return e.next=7,Re(t);case 7:a=e.sent;case 8:if(this._isMounted){e.next=10;break}return e.abrupt("return");case 10:if(a){e.next=12;break}return e.abrupt("return");case 12:Ce(a.name),this.setState({currentGame:a});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a,n,r,o=this,c=this.props,s=c.setTheme,l=c.history,u=c.classes,m=this.state,d=m.currentGame,p=m.triggerConfetti;if(!d)return null;var h=function(){return o.loadGame()},g=function(){var e=Object(Z.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o._confettiTriggered){e.next=5;break}return o._confettiTriggered=!0,e.next=4,p();case 4:o._confettiTriggered=!1;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();switch(d.phase){case b.Init:e=i.a.createElement(qt,{game:d,triggerReload:h,setTheme:s});break;case b.Preparation:e=i.a.createElement(Zt,{game:d,triggerReload:h});break;case b.HintWriting:e=i.a.createElement(ma,{game:d,triggerReload:h,triggerConfetti:g}),t=i.a.createElement(sa,{game:d});break;case b.HintComparing:e=i.a.createElement(pa,{game:d,triggerReload:h}),t=i.a.createElement(sa,{game:d});break;case b.Guessing:e=i.a.createElement(ga,{game:d,triggerReload:h}),t=i.a.createElement(sa,{game:d});break;case b.Solution:e=i.a.createElement(Ea,{game:d,triggerReload:h,triggerConfetti:g}),t=i.a.createElement(sa,{game:d});break;case b.End:e=i.a.createElement(ta,{game:d,triggerReload:h,triggerConfetti:g}),a=i.a.createElement(ie.a,{item:!0,xs:12,className:u.button},i.a.createElement(N.a,{variant:"outlined",onClick:function(){d.$isTutorial&&nt(),l.push("/")}},i.a.createElement(T.a,{i18nKey:d.$isTutorial?"TUTORIAL.CLOSE":"GAME.BACK_HOME"},"Back"))),r=i.a.createElement(ie.a,{item:!0,xs:12,className:u.button},i.a.createElement(N.a,{variant:"outlined",onClick:p},i.a.createElement(T.a,{i18nKey:"COMMON.CONFETTI"},"Confetti!")))}if(d.$isTutorial){n=i.a.createElement(ie.a,{item:!0,xs:12,className:u.button},i.a.createElement(N.a,{variant:"outlined",onClick:function(){nt(),o.loadGame()}},i.a.createElement(T.a,{i18nKey:"TUTORIAL.RESTART"},"Restart tutorial")))}return i.a.createElement(te.a,{maxWidth:"lg",className:u.root},e,a,n,r,t,i.a.createElement(ya,{colors:Qe,getTrigger:function(e){return o.setState({triggerConfetti:e})}}))}}]),a}(i.a.Component),Ta=Object(m.f)(Object(P.a)((function(e){return Object(x.a)({root:{flex:"1 0 auto",display:"flex",flexDirection:"column",alignItems:"center"},button:{margin:e.spacing(1),marginTop:e.spacing(8),"&+$button":{marginTop:e.spacing(1)}}})}))(va)),Ia=Object(p.a)({root:Object(l.a)(Object(l.a)({},O.rootSizing),{},{textAlign:"center",display:"flex",flexDirection:"column"}),loading:Object(l.a)({},O.flexCenter)}),ka=function(){var e=Object(r.useState)(localStorage.getItem("playerColor")),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(r.useState)(localStorage.getItem("darkTheme")||n.AUTO),p=Object(s.a)(c,2),b=p[0],y=p[1],v=Ia(),T=Object(f.a)("(prefers-color-scheme: dark)");b===n.BRIGHT?T=!1:b===n.DARK&&(T=!0);var I=i.a.useMemo((function(){return Object(h.a)(function(e,t){return{palette:{primary:{main:e||"#43a047"},secondary:{main:"#d32f2f"},background:{default:t?"#222222":"#fff8f5"},type:t?"dark":"light"},breakpoints:{values:{xs:0,sm:600,md:720,lg:960,xl:1280}},typography:{h2:Object(l.a)({},O.handwriting),h5:Object(l.a)(Object(l.a)({},O.handwriting),{},{paddingTop:8,textTransform:"capitalize"})},overrides:{MuiButton:{outlined:{textTransform:"none"}}}}}(a,T))}),[a,T]);return i.a.createElement(g.a,{theme:I},i.a.createElement(r.Suspense,{fallback:i.a.createElement(J,{className:v.root})},i.a.createElement(u.a,null,i.a.createElement(E.a,{maxSnack:2,anchorOrigin:{vertical:"bottom",horizontal:"center"}},i.a.createElement(d.a,{square:!0,elevation:0,className:v.root,style:{backgroundColor:I.palette.background.default}},i.a.createElement($,{userTheme:b,applyUserTheme:function(e){y(e),localStorage.setItem("darkTheme",e)}}),i.a.createElement(m.c,null,i.a.createElement(m.a,{path:"/:gameId",component:function(e){return i.a.createElement(Ta,{gameId:e.match.params.gameId,setTheme:o})}}),i.a.createElement(m.a,{children:i.a.createElement(kt,null)})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ka,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[138,1,2]]]);