(this.webpackJsonpboardgame_app=this.webpackJsonpboardgame_app||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(14),s=a.n(c),i=(a(96),a(58)),l=a(45),u=a(15),d=(a(97),a(106)),h=a(145),m=a(146),p=a(136),g=a(47),f=a(138),v=a(147),b=a(148),y=a(81),E=a(144),j=a(143),O=a(7),k=a(8),C=a(10),P=a(9),w=a(11),I=a(149);!function(e){e[e.Init=0]="Init",e[e.Preparation=1]="Preparation",e[e.HintWriting=2]="HintWriting",e[e.HintComparing=3]="HintComparing",e[e.Guessing=4]="Guessing",e[e.Solution=5]="Solution",e[e.End=6]="End"}(n||(n={}));var N=a(131),S=a(134),G=a(135),W=a(137),H=a(79),T=a.n(H),R=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).currentUserId=localStorage.getItem(de)||"",e.currentUserName=localStorage.getItem(he)||"",e}return Object(k.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.allGames,r=t.deleteGame,c=a.filter((function(e){return e.phase===n.Init})),s=a.filter((function(e){return![n.Init,n.End].includes(e.phase)})),i=a.filter((function(e){return e.phase===n.End})),u=function(t){return o.a.createElement(N.a,Object.assign({key:t.id,className:"GameListItem"},{to:"/".concat(t.id)},{component:l.b,button:!0}),o.a.createElement(S.a,{id:t.id,primary:"".concat(t.name||t.id),secondary:"Spieler: ".concat(t.players.map((function(e){return e.name})).join(", ")||"-")}),e.currentUserId===t.host&&o.a.createElement(G.a,null,o.a.createElement(p.a,{onClick:function(){return r(t.id)}},o.a.createElement(T.a,null))))},h=c.map(u),m=s.map(u),f=i.map(u);return o.a.createElement("div",{className:"GameList"},m.length>0&&o.a.createElement(d.a,null,o.a.createElement(g.a,{variant:"h5"},"Meine laufenden Spiele"),o.a.createElement(W.a,null,m)),h.length>0&&o.a.createElement(d.a,null,o.a.createElement(g.a,{variant:"h5"},"Neue Spiele"),o.a.createElement(W.a,null,h)),f.length>0&&o.a.createElement(d.a,null,o.a.createElement(g.a,{variant:"h5"},"Meine beendeten Spiele"),o.a.createElement(W.a,null,f)))}}]),a}(o.a.Component),U=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(e){var n;Object(O.a)(this,a),(n=t.call(this,e)).currentUserId=localStorage.getItem(de)||"",n.currentUserName=localStorage.getItem(he)||"",n._interval=void 0,n.createGame=n.createGame.bind(Object(w.a)(n)),n.handleChange=n.handleChange.bind(Object(w.a)(n)),n.deleteGame=n.deleteGame.bind(Object(w.a)(n));var r=n.currentUserName?"".concat(n.currentUserName,"s Spiel"):"Neues Spiel";return n.state={allGames:[],newGameName:r},n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){document.title=pe,this.loadGames(),this._interval=setInterval(this.loadGames.bind(this),2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this._interval)}},{key:"loadGames",value:function(){var e=this;fetch("".concat(ue,"/all")).then((function(e){return e.json()})).then((function(t){var a=t.games||[];a=a.filter((function(t){return t.phase===n.Init||e.currentUserId&&t.players.findIndex((function(t){return t.id===e.currentUserId}))>-1})),e.setState({allGames:a})})).catch(console.log)}},{key:"deleteGame",value:function(e){fetch("".concat(ue,"/delete/").concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){console.log("deleted",e)})).catch(console.log)}},{key:"handleChange",value:function(e){this.setState({newGameName:e.target.value})}},{key:"createGame",value:function(){var e=this,t={id:"",name:"",words:[],players:[],host:"",wordsPerPlayer:ge,round:0,phase:0,hints:[],correctWords:[],wrongWords:[]};t.name=this.state.newGameName,t.host=this.currentUserId,fetch("".concat(ue,"/add"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({game:t})}).then((function(e){return e.json()})).then((function(t){e.currentUserId||localStorage.setItem(de,t.playerId),window.location.href="/"+t.id})).catch(console.log)}},{key:"render",value:function(){var e=this.state,t=e.newGameName,a=e.allGames;return o.a.createElement("div",{className:"JustOneHome"},o.a.createElement(I.a,{label:"Spielname",value:t,onChange:this.handleChange}),o.a.createElement(f.a,{variant:"contained",color:"primary",onClick:this.createGame},"Neues Spiel"),o.a.createElement(R,{allGames:a,deleteGame:this.deleteGame}))}}]),a}(o.a.Component);var D=a(139),A=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={value:""},n.handleChange=n.handleChange.bind(Object(w.a)(n)),n.submitHint=n.submitHint.bind(Object(w.a)(n)),n.keyPressed=n.keyPressed.bind(Object(w.a)(n)),n}return Object(k.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"submitHint",value:function(){this.props.submitHint(this.state.value),this.setState({value:""})}},{key:"keyPressed",value:function(e){"Enter"===e.key&&this.submitHint()}},{key:"render",value:function(){return o.a.createElement("div",{className:"Word-hint-input"},o.a.createElement(I.a,{label:this.props.label||"Hinweis eingeben",value:this.state.value,onChange:this.handleChange,onKeyPress:this.keyPressed}),o.a.createElement(p.a,{color:"primary",disabled:!this.state.value,onClick:this.submitHint},o.a.createElement(D.a,null)))}}]),a}(o.a.Component),B=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e=this.props.word,t=this.props.guesser,a="";t?a=this.props.guess?("ich"===t.toLowerCase()?"Mein ":t+"'s ")+"Rateversuch: "+this.props.guess:t+" muss raten":this.props.guess&&(a="Rateversuch: "+this.props.guess);var n=["Word-card"];return this.props.guess&&(this.props.guessedRight?n.push("Word-card-correct"):n.push("Word-card-wrong")),o.a.createElement(d.a,{className:n.join(" "),style:{borderColor:this.props.color}},this.props.showInput&&this.props.submitHint?o.a.createElement(A,{submitHint:this.props.submitHint,label:"Rateversuch"}):o.a.createElement("span",null,e),a&&o.a.createElement("span",{className:"Author-tag",style:{color:this.props.color}},a))}}]),a}(o.a.Component),M=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e={backgroundColor:this.props.color},t={borderTopColor:this.props.color};return o.a.createElement("div",{className:"pencil"},o.a.createElement("div",{className:"body",style:e}),o.a.createElement("div",{className:"nib",style:t}))}}]),a}(o.a.Component),J=a(151),L=a(140),z=a(141),_=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e=this.props.hint,t=this.props.color,a={color:t,borderColor:t},n=this.props.author,r=this.props.showPencil||!this.props.hint,c=this.props.showCheck,s=this.props.showDuplicateToggle,i=this.props.toggleDuplicate,l=["Word-hint"];r&&l.push("Word-hint-writing"),this.props.duplicate&&l.push("Word-hint-duplicate"),e&&e.length>20?l.push("Word-hint-huge"):e&&e.length>14&&l.push("Word-hint-long");var u=l.join(" ");return this.props.showInput&&this.props.submitHint?o.a.createElement(d.a,{className:u,style:a},o.a.createElement(A,{submitHint:this.props.submitHint}),n&&o.a.createElement("span",{className:"Author-tag"},n)):o.a.createElement(d.a,{className:u,style:a},!c&&e,c&&o.a.createElement("span",{className:"Done-icon"},"\u2713"),r&&o.a.createElement(M,{color:t}),s&&i&&o.a.createElement(J.a,{className:"Duplicate-toggle",icon:o.a.createElement(L.a,null),checkedIcon:o.a.createElement(z.a,null),checked:this.props.duplicate,onChange:function(){return i()}}),n&&o.a.createElement("span",{className:"Author-tag"},n))}}]),a}(o.a.Component),K=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).currentUserId=localStorage.getItem("playerId")||"",n.submitHint=n.submitHint.bind(Object(w.a)(n)),n.toggleDuplicate=n.toggleDuplicate.bind(Object(w.a)(n)),n.showHints=n.showHints.bind(Object(w.a)(n)),n.guess=n.guess.bind(Object(w.a)(n)),n.resolveRound=n.resolveRound.bind(Object(w.a)(n)),n.state={},n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){}},{key:"submitHint",value:function(e){var t=V(this.props.game,this.currentUserId);if(t){var a={hint:e,author:t};fetch("".concat(ue,"/").concat(this.props.game.id,"/hint"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({hint:a})}).catch(console.log)}}},{key:"toggleDuplicate",value:function(e){fetch("".concat(ue,"/").concat(this.props.game.id,"/toggleDuplicateHint"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({hintIndex:e})}).catch(console.log)}},{key:"showHints",value:function(){fetch("".concat(ue,"/").concat(this.props.game.id,"/showHints"),{method:"PUT"}).catch(console.log)}},{key:"guess",value:function(e){fetch("".concat(ue,"/").concat(this.props.game.id,"/guess"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({guess:e})}).catch(console.log)}},{key:"resolveRound",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];fetch("".concat(ue,"/").concat(this.props.game.id,"/resolve"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({countCorrect:e})}).catch(console.log)}},{key:"render",value:function(){var e,t=this,a=this.props.game,r=V(a,this.currentUserId),c=a.currentGuesser?a.currentGuesser:{name:"?",id:"?"},s=r&&r.id===c.id,i=a.phase===n.HintWriting,l=a.phase===n.HintComparing,u=a.phase===n.Guessing,d=a.phase===n.Solution,h=a.roundHost&&this.currentUserId===a.roundHost.id,m=h&&l,p=s&&!d?"?":a.currentWord||"",v=a.currentGuess||"",b=a.hints.map((function(e,a){var n=e.hint,c=r&&r.id===e.author.id,h=!n||u||d||c||l&&!s,p=!n&&i&&c;u&&s&&e.isDuplicate&&(n="LEIDER DOPPELT");var g=c?"Ich":e.author.name;return o.a.createElement(_,{key:e.author.id+a,hint:n,color:e.author.color,showInput:p,submitHint:t.submitHint,showCheck:!h,duplicate:e.isDuplicate,showDuplicateToggle:m,toggleDuplicate:function(){return t.toggleDuplicate(a)},author:g})})),y=o.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){return t.resolveRound(!0)}},"Super, weiter geht's");a.guessedRight||(y=o.a.createElement(f.a,{variant:"contained",onClick:function(){return t.resolveRound(!0)}},"Das z\xe4hlt trotzdem"),e=o.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){return t.resolveRound(!1)}},"Leider falsch"));var E=u&&s,j=s?"Ich":c.name;return o.a.createElement("div",{className:"Game-field"},o.a.createElement("div",{className:"Current-word"},o.a.createElement(g.a,{variant:"h5"},"Begriff"),o.a.createElement(B,{word:p,guesser:j,color:c.color,showInput:E,submitHint:this.guess,guess:d?v:"",guessedRight:a.guessedRight}),d&&(h||a.guessedRight)&&y,d&&h&&e),o.a.createElement("div",{className:"Current-hints"},o.a.createElement(g.a,{variant:"h5"},"Spieler-Hinweise"),o.a.createElement("div",{className:"WordHint-list"},b),l&&h&&o.a.createElement(g.a,{variant:"subtitle1"},"Benutze die Smiley-Buttons auf den Hinweisen um doppelte oder ung\xfcltige Werte zu markieren."),l&&h&&o.a.createElement(f.a,{variant:"contained",color:"primary",onClick:this.showHints},c.name+" kann losraten!")))}}]),a}(o.a.Component);function V(e,t){return e.players.find((function(e){return e.id===t}))}var q=a(80),x=a.n(q),F=["#e51235","#d81b60","#8e24aa","#6e45c1","#4959cc","#1e88e5","#039be5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#ffc215","#ffab00","#ff6d00","#f4511e"];function $(e){return e&&F.includes(e)?e:F[Math.floor(Math.random()*F.length)]}var Q=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e=this.props,t=e.selected,a=e.select,n=F.map((function(e){var n=["Color-button"];return t===e&&n.push("Color-selected"),o.a.createElement(p.a,{className:n.join(" "),onClick:function(){return a(e)},style:{backgroundColor:e},key:e},t===e&&o.a.createElement(x.a,null))}));return o.a.createElement("div",{className:"Color-picker"},n)}}]),a}(o.a.Component),X=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(w.a)(n)),n.setColor=n.setColor.bind(Object(w.a)(n)),n.addPlayer=n.addPlayer.bind(Object(w.a)(n)),n}return Object(k.a)(a,[{key:"handleChange",value:function(e){"name"===e.target.name&&(this.props.currentPlayer.name=e.target.value,this.props.updatePlayer(this.props.currentPlayer))}},{key:"setColor",value:function(e){this.props.currentPlayer.color=e,this.props.updatePlayer(this.props.currentPlayer)}},{key:"addPlayer",value:function(){this.props.addPlayer(this.props.currentPlayer)}},{key:"render",value:function(){var e=this.props.currentPlayer;return o.a.createElement("div",{className:"New-player"},o.a.createElement(I.a,{required:!0,label:"Spielername",name:"name",value:e.name,onChange:this.handleChange}),o.a.createElement(Q,{select:this.setColor,selected:e.color}),o.a.createElement(f.a,{variant:"contained",color:"primary",disabled:!e.name,onClick:this.addPlayer},"Mitspielen"))}}]),a}(o.a.Component),Y=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={words:[]},n.handleChange=n.handleChange.bind(Object(w.a)(n)),n.keyPressed=n.keyPressed.bind(Object(w.a)(n)),n}return Object(k.a)(a,[{key:"handleChange",value:function(e){var t=parseInt(e.target.name.substr(4)),a=e.target.value;this.setState((function(e,n){var r=e.words;return r[t]=a,{words:r}}))}},{key:"keyPressed",value:function(e){if("Enter"===e.key){var t=this.state.words;t.length<this.props.numOfWords||t.some((function(e){return!e||0===e.length}))||this.props.add(t)}}},{key:"render",value:function(){var e=this.props,t=e.add,a=e.numOfWords,n=this.state.words,r=[];a>0&&r.push(o.a.createElement(g.a,{variant:"subtitle1",key:"heading"},"Gib ",a>1?"".concat(a," W\xf6rter"):"ein Wort"," f\xfcr das Spiel ein"));for(var c=0;c<a;c++)r.push(o.a.createElement(I.a,{required:!0,label:"Wort ".concat(a>1?c+1:""),placeholder:"Ratebegriff eingeben",name:"word".concat(c),key:"word".concat(c),value:n[c]||"",onChange:this.handleChange,onKeyPress:this.keyPressed}));var s=n.length<a||n.some((function(e){return!e||0===e.length}));return o.a.createElement("div",{className:"Word-adder"},r,o.a.createElement(f.a,{variant:"contained",color:"primary",disabled:s,onClick:function(){return t(n)}},"Jetzt abschicken"))}}]),a}(o.a.Component),Z=a(142),ee=a(152),te=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.onClose,n=e.numOfPlayers,r=function(e){a(e)};return o.a.createElement(ee.a,{onClose:function(){a()},open:t,disableBackdropClick:!0},o.a.createElement(Z.a,null,"Lege die Rundenanzahl fest"),o.a.createElement(W.a,null,o.a.createElement(N.a,{button:!0,onClick:function(){return r(1)}},o.a.createElement(S.a,{primary:n+" Runden",secondary:"1 Begriff pro Spieler"})),o.a.createElement(N.a,{button:!0,onClick:function(){return r(2)}},o.a.createElement(S.a,{primary:2*n+" Runden",secondary:"2 Begriffe pro Spieler"})),o.a.createElement(N.a,{button:!0,onClick:function(){return r(3)}},o.a.createElement(S.a,{primary:3*n+" Runden",secondary:"3 Begriffe pro Spieler"}))))}}]),a}(o.a.Component),ae=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={currentPlayer:{id:localStorage.getItem(de)||"",name:localStorage.getItem(he)||"",color:$(localStorage.getItem(me))},roundDialogOpen:!1},n.addPlayer=n.addPlayer.bind(Object(w.a)(n)),n.addWords=n.addWords.bind(Object(w.a)(n)),n.setPlayerProps=n.setPlayerProps.bind(Object(w.a)(n)),n.selectNumRounds=n.selectNumRounds.bind(Object(w.a)(n)),n.startPreparation=n.startPreparation.bind(Object(w.a)(n)),n.startGame=n.startGame.bind(Object(w.a)(n)),n}return Object(k.a)(a,[{key:"setPlayerProps",value:function(e){this.setState({currentPlayer:e})}},{key:"addPlayer",value:function(e){var t=this;fetch("".concat(ue,"/").concat(this.props.game.id,"/addPlayer"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({player:e})}).then((function(e){return e.json()})).then((function(e){t.setLocalPlayer(e.player)})).catch(console.log)}},{key:"addWords",value:function(e){var t=this,a=this.state.currentPlayer;a.enteredWords=e,fetch("".concat(ue,"/").concat(this.props.game.id,"/updatePlayer"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({player:a})}).then((function(e){return e.json()})).then((function(e){t.setLocalPlayer(e.player)})).catch(console.log)}},{key:"setLocalPlayer",value:function(e){localStorage.setItem(de,e.id),localStorage.setItem(he,e.name),e.color&&localStorage.setItem("playerColor",e.color),this.props.setTheme&&e.color&&this.props.setTheme(e.color),this.setState({currentPlayer:e})}},{key:"selectNumRounds",value:function(){this.setState({roundDialogOpen:!0})}},{key:"startPreparation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge;this.setState({roundDialogOpen:!1}),fetch("".concat(ue,"/").concat(this.props.game.id,"/startPreparation"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({wordsPerPlayer:e})}).catch(console.log)}},{key:"startGame",value:function(){fetch("".concat(ue,"/").concat(this.props.game.id,"/start"),{method:"PUT"}).then((function(e){})).catch(console.log)}},{key:"render",value:function(){var e,t=this.props.game,a=this.state,r=a.currentPlayer,c=a.roundDialogOpen,s=t.wordsPerPlayer||ge,i=localStorage.getItem(de)||"",l=!!i&&t.host===i,u=!1;if(t.phase===n.Init){e=t.players.map((function(e){return e.id===i&&(u=!0),o.a.createElement(_,{key:e.id,hint:e.name,color:e.color})}));var h=r.name?r.name:"?",m=r.color?r.color:$();return o.a.createElement("div",{className:"Game-lobby"},o.a.createElement("div",{className:"New-player"},u?o.a.createElement(d.a,{className:"StatusInfo"},"Warten auf Mitspieler ... Sobald alle Mitspieler da sind, ",l?"kannst du":"kann der Spielleiter"," das Spiel starten."):o.a.createElement(X,{currentPlayer:r,updatePlayer:this.setPlayerProps,addPlayer:this.addPlayer}),l&&u&&o.a.createElement(f.a,{variant:"contained",color:"primary",disabled:t.players.length<3,onClick:this.selectNumRounds},"Alle Spieler sind da")),o.a.createElement("div",{className:"Player-list"},e,!u&&o.a.createElement(_,{hint:h,color:m,showPencil:!0})),o.a.createElement(te,{numOfPlayers:t.players.length,open:c,onClose:this.startPreparation}))}if(t.phase===n.Preparation){var p=!1;return e=t.players.map((function(e){var t=!!e.enteredWords&&e.enteredWords.length===s;return e.id===i&&(u=!0,p=t),o.a.createElement(_,{key:e.id,hint:e.name,color:e.color,showPencil:!t})})),o.a.createElement("div",{className:"Game-lobby"},o.a.createElement("div",{className:"New-player"},p||!u?o.a.createElement(d.a,{className:"StatusInfo"},"Warten auf Mitspieler ... Sobald alle fertig sind, geht's los."):o.a.createElement(Y,{add:this.addWords,numOfWords:s})),o.a.createElement("div",{className:"Player-list"},e))}return null}}]),a}(o.a.Component),ne=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e=this.props.game,t=e.correctWords.map((function(e){return o.a.createElement(B,{key:e.word,word:e.word,guess:e.guess,guessedRight:!0})})),a=e.wrongWords.map((function(e){return o.a.createElement(B,{key:e.word,word:e.word,guess:e.guess,guessedRight:!1})}));return o.a.createElement("div",{className:"Game-end-view"},o.a.createElement("div",{className:"Correct-words"},o.a.createElement("h2",null,"Richtig (",e.correctWords.length,")"),t),o.a.createElement("div",{className:"Wrong-words"},o.a.createElement("h2",null,"Falsch (",e.wrongWords.length,")"),a))}}]),a}(o.a.Component),re=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e,t=this.props.game,a=t.roundHost?t.roundHost.name:"?",r=t.currentGuesser?t.currentGuesser.name:"?";switch(t.phase){case n.HintWriting:var c=t.players.filter((function(e){return t.currentGuesser&&e.id!==t.currentGuesser.id})).map((function(e){return e.name}));e=c.slice(0,c.length-1).join(", ")+" und "+c[c.length-1]+" schreiben Hinweise auf...";break;case n.HintComparing:e=a+" \xfcberpr\xfcft die Hinweise auf ung\xfcltige oder doppelte W\xf6rter...";break;case n.Guessing:e=r+" versucht den Begriff zu erraten...";break;case n.Solution:e=t.guessedRight?r+" lag genau richtig!":r+" lag daneben! "+a+" entscheidet ob es trotzdem z\xe4hlt..."}return o.a.createElement("div",{className:"Game-progress"},o.a.createElement("div",null,"Runde: ",t.round+1,"/",t.words.length,", Richtige: ",t.correctWords.length,", Falsche: ",t.wrongWords.length),o.a.createElement("div",null,"Phase: ",e))}}]),a}(o.a.Component),oe=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).currentUserId=localStorage.getItem(de)||"",n._interval=void 0,n.state={},n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){this.loadGame(),this._interval=setInterval(this.loadGame.bind(this),2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this._interval)}},{key:"loadGame",value:function(){var e=this,t=this.props.gameId;t&&fetch("".concat(ue,"/").concat(t)).then((function(e){return e.json()})).then((function(t){var a;a=t.game.name,document.title=a?"".concat(pe," - ").concat(a):pe,e.setState({currentGame:t.game})})).catch(console.log)}},{key:"render",value:function(){var e,t,a=this.state.currentGame;return a&&([n.Init,n.Preparation].includes(a.phase)?e=o.a.createElement(ae,{game:a,setTheme:this.props.setTheme}):a.phase===n.End?e=o.a.createElement(ne,{game:a}):(t=o.a.createElement(re,{game:a}),e=o.a.createElement(K,{game:a}))),o.a.createElement("div",{className:"Game-content"},t,e)}}]),a}(o.a.Component);var ce,se=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){return this.props.gameId?o.a.createElement(oe,{gameId:this.props.gameId,setTheme:this.props.setTheme}):o.a.createElement(U,null)}}]),a}(o.a.Component),ie=function(e){Object(C.a)(a,e);var t=Object(P.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.onClose,n=e.selectedValue,r=e.possibleValues;return o.a.createElement(ee.a,{onClose:function(){a(n)},open:t},o.a.createElement(Z.a,null,"Nachtmodus"),o.a.createElement(W.a,null,r.map((function(e){return o.a.createElement(N.a,{button:!0,onClick:function(){return function(e){a(e)}(e)},key:e,selected:n===e},o.a.createElement(S.a,{primary:e}))}))))}}]),a}(o.a.Component),le="justone.okj.name"===window.location.hostname?"":":9000",ue=window.location.protocol+"//"+window.location.hostname+le+"/api"+"/games",de="playerId",he="playerName",me="playerColor",pe="Nur ein Wort!",ge=2;!function(e){e.AUTO="automatisch",e.BRIGHT="hell",e.DARK="dunkel"}(ce||(ce={}));var fe=function(){var e=Object(r.useState)(localStorage.getItem(me)),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(localStorage.getItem("darkTheme")||ce.AUTO),s=Object(i.a)(c,2),O=s[0],k=s[1],C=localStorage.getItem(he),P=Object(j.a)("(prefers-color-scheme: dark)");O===ce.BRIGHT?P=!1:O===ce.DARK&&(P=!0);var w=a;w&&w.startsWith("#")&&7===w.length||(w="#43a047");var I=o.a.useMemo((function(){return Object(y.a)({palette:{primary:{main:w||"#43a047"},secondary:{main:"#d32f2f"},type:P?"dark":"light"}})}),[P,w]),N=["App"];P&&N.push("App-dark");var S=o.a.useState(!1),G=Object(i.a)(S,2),W=G[0],H=G[1];return o.a.createElement(l.a,null,o.a.createElement(E.a,{theme:I},o.a.createElement(d.a,{square:!0,elevation:0,className:N.join(" ")},o.a.createElement(h.a,{position:"sticky"},o.a.createElement(m.a,null,o.a.createElement(l.b,{to:"/",className:"ButtonLink"},o.a.createElement(p.a,{edge:"start",color:"inherit","aria-label":"home"},o.a.createElement(v.a,null))),o.a.createElement(g.a,{variant:"h2",className:"appTitle"},"Nur ein Wort!"),C?o.a.createElement(f.a,{onClick:function(){return H(!0)},className:"Account-button",color:"inherit",startIcon:o.a.createElement(b.a,null)},C):o.a.createElement(p.a,{onClick:function(){return H(!0)},edge:"end",color:"inherit"},o.a.createElement(b.a,null)),o.a.createElement(ie,{open:W,onClose:function(e){k(e),localStorage.setItem("darkTheme",e),H(!1)},selectedValue:O,possibleValues:[ce.AUTO,ce.BRIGHT,ce.DARK]}))),o.a.createElement(u.c,null,o.a.createElement(u.a,{path:"/:gameId",component:function(e){return o.a.createElement(se,{gameId:e.match.params.gameId,setTheme:n})}}),o.a.createElement(u.a,{children:o.a.createElement(se,null)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,a){e.exports=a(104)},96:function(e,t,a){},97:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.068a8f9b.chunk.js.map