(this.webpackJsonpboardgame_app=this.webpackJsonpboardgame_app||[]).push([[0],{129:function(e,t,a){e.exports=a(160)},134:function(e,t,a){},135:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),i=a(14),c=a.n(i),s=(a(134),a(53)),l=a(15),u=a(54),m=a(20),d=(a(135),a(163)),p=a(215),h=a(196),E=a(116),f=a(221),g=a(220),b=a(25),O="https:"===window.location.protocol?"":":9000",y=window.location.protocol+"//"+window.location.hostname+O+"/api"+"/games";!function(e){e.AUTO="automatisch",e.BRIGHT="hell",e.DARK="dunkel"}(n||(n={}));var v,j={rootSizing:{height:"100%",width:"100%",minHeight:"100vh"},flexCenter:{display:"flex",alignItems:"center",justifyContent:"center"},handwriting:{fontFamily:["Gloria Hallelujah","cursive"].join(",")}},k=a(56),S=a(202),C=a(199),M=a(203),w=a(204),G=a(205),N=a(70),A=a(207),I=a(118),R=a(209),P=a(210),T=a(206),x=a(208),_=a(211),D=a(212),H=a(228),W=a(4),L=a(6),K=a(7),U=a(9),B=a(8),z=a(226),Y=a(198),q=a(200),V=a(164),F=a(201),J=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var e=this.props,t=e.tKey,a=e.open,n=e.onClose,r=e.selectedValue,i=e.possibleValues;return o.a.createElement(z.a,{onClose:function(){n(r)},open:a},o.a.createElement(Y.a,null,o.a.createElement(C.a,{i18nKey:t},"Einstellung")),o.a.createElement(q.a,null,i.map((function(e){return o.a.createElement(V.a,{button:!0,onClick:function(){return function(e){n(e)}(e.val)},key:e.val,selected:r===e.val},o.a.createElement(F.a,{primary:o.a.createElement(C.a,{i18nKey:e.tKey},e.val)}))}))))}}]),a}(o.a.Component),Z=Object(W.a)((function(e){return Object(H.a)({root:{marginBottom:e.spacing(2),padding:e.spacing(1)},title:Object(k.a)({flex:"1 1 auto",letterSpacing:4,fontSize:"4vw"},e.breakpoints.up("lg"),{fontSize:40}),linkBtn:{color:"inherit"}})}))((function(e){var t=Object(S.a)().i18n,a=e.userTheme,r=e.applyUserTheme,i=e.classes,c=o.a.useState(!1),l=Object(s.a)(c,2),m=l[0],d=l[1],p=o.a.useState(!1),h=Object(s.a)(p,2),E=h[0],f=h[1],g=o.a.useState(t.language),b=Object(s.a)(g,2),O=b[0],y=b[1],v=o.a.useState(null),j=Object(s.a)(v,2),k=j[0],H=j[1],W=function(e){var t=e.currentTarget;H(t)},L=function(){H(null)},K=localStorage.getItem("playerName"),U=[{val:n.AUTO,tKey:"THEMEPICK.AUTO"},{val:n.BRIGHT,tKey:"THEMEPICK.BRIGHT"},{val:n.DARK,tKey:"THEMEPICK.DARK"}];return o.a.createElement(M.a,{position:"sticky",className:i.root},o.a.createElement(w.a,null,o.a.createElement(u.b,{to:"/",className:i.linkBtn},o.a.createElement(G.a,{edge:"start",color:"inherit","aria-label":"home"},o.a.createElement(T.a,null))),o.a.createElement(N.a,{variant:"h2",className:i.title},o.a.createElement(C.a,{i18nKey:"APP_TITLE"},"Nur ein Wort!")),K?o.a.createElement(A.a,{onClick:W,color:"inherit",startIcon:o.a.createElement(x.a,null)},K):o.a.createElement(G.a,{onClick:W,edge:"end",color:"inherit"},o.a.createElement(x.a,null)),o.a.createElement(I.a,{anchorEl:k,keepMounted:!0,open:Boolean(k),onClose:L},o.a.createElement(R.a,{onClick:function(){d(!0),L()}},o.a.createElement(P.a,null,o.a.createElement(_.a,null)),o.a.createElement(C.a,{i18nKey:"THEMEPICK.HEADING"},"Nachtmodus")),o.a.createElement(R.a,{onClick:function(){f(!0),L()}},o.a.createElement(P.a,null,o.a.createElement(D.a,null)),o.a.createElement(C.a,{i18nKey:"LANGPICK.HEADING"},"Sprache"))),o.a.createElement(J,{tKey:"THEMEPICK.HEADING",open:m,onClose:function(e){r(e),d(!1)},selectedValue:a,possibleValues:U}),o.a.createElement(J,{tKey:"LANGPICK.HEADING",open:E,onClose:function(e){!function(e){y(e),t.changeLanguage(e)}(e),f(!1)},selectedValue:O,possibleValues:[{val:"de",tKey:"LANGPICK.DE"},{val:"en",tKey:"LANGPICK.EN"}]})))})),$=a(17),Q=a.n($),X=a(27),ee=a(13),te=a(216),ae=a(223),ne=a(222),re=a(213),oe=a(214),ie=a(112),ce=a.n(ie);!function(e){e[e.Init=0]="Init",e[e.Preparation=1]="Preparation",e[e.HintWriting=2]="HintWriting",e[e.HintComparing=3]="HintComparing",e[e.Guessing=4]="Guessing",e[e.Solution=5]="Solution",e[e.End=6]="End"}(v||(v={}));var se=a(117),le=a(92),ue=a.n(le),me=a(93),de=a(109),pe=a(111),he=a(43);me.a.use(de.a).use(pe.a).use(he.f).init({fallbackLng:"de",debug:!0,initImmediate:!1,whitelist:["en","de"],interpolation:{escapeValue:!1}});var Ee=me.a;function fe(){var e=localStorage.getItem("playerId")||"";return e||(ue.a.characters("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\xfc\xdc"),e=ue()(),localStorage.setItem("playerId",e)),e}function ge(e){return be(e,fe())}function be(e,t){return e.players.find((function(e){return e.id===t}))}function Oe(e){document.title=e?"".concat(Ee.t("APP_TITLE","Nur ein Wort!")," - ").concat(e):Ee.t("APP_TITLE","Nur ein Wort!")}function ye(e,t,a){var n=v.End===e.phase?e.words.length-1:e.round-1;if(n>=0){var r,o,i,c=e.words[n],s=Object(se.a)(e.correctWords).reverse(),l=s.findIndex((function(e){return e.word===c}));l>-1?(r=s[l],o="CORRECT",i="success"):(r=e.wrongWords[e.wrongWords.length-1],o="WRONG",i="error"),r.word.trim().toLowerCase()!==r.guess.trim().toLowerCase()&&t(Ee.t("GAME.MESSAGE.PREV_RESULT","Runde abgeschlossen",{context:o,word:r.guess}),{variant:i,preventDuplicate:!0,onClose:a})}}var ve=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(L.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).currentUserId=localStorage.getItem("playerId")||"",e.currentUserName=localStorage.getItem("playerName")||"",e}return Object(K.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.allGames,n=t.deleteGame,r=a.filter((function(e){return e.phase===v.Init&&!ge(e)})),i=a.filter((function(e){return![v.Init,v.End].includes(e.phase)||e.phase===v.Init&&!!ge(e)})),c=a.filter((function(e){return e.phase===v.End})),s=function(t){var a=t.players.map((function(e){return e.name})).join(", ")||"-";return o.a.createElement(V.a,Object.assign({key:t.id,className:"GameListItem"},{to:"/".concat(t.id)},{component:u.b,button:!0}),o.a.createElement(F.a,{id:t.id,primary:"".concat(t.name||t.id),secondary:o.a.createElement(C.a,{i18nKey:"HOME.GAME_LIST.PLAYERS"},"Spieler: ",{playersString:a})}),e.currentUserId===t.host&&o.a.createElement(re.a,null,o.a.createElement(G.a,{onClick:function(){return n(t.id)}},o.a.createElement(ce.a,null))))},l=r.map(s),m=i.map(s),p=c.map(s),h=[{key:"ongoing",elementList:m,heading:o.a.createElement(C.a,{i18nKey:"HOME.GAME_LIST.ONGOING"},"Meine laufenden Spiele")},{key:"new",elementList:l,heading:o.a.createElement(C.a,{i18nKey:"HOME.GAME_LIST.NEW"},"Neue Spiele")},{key:"done",elementList:p,heading:o.a.createElement(C.a,{i18nKey:"HOME.GAME_LIST.DONE"},"Meine beendeten Spiele")}].filter((function(e){return e.elementList.length>0})).map((function(e,t){return o.a.createElement(oe.a,{item:!0,xs:12,key:e.key},o.a.createElement(d.a,null,o.a.createElement(N.a,{variant:"h5"},e.heading),o.a.createElement(q.a,null,e.elementList)))}));return o.a.createElement(oe.a,{container:!0,spacing:2,className:"GameList"},h)}}]),a}(o.a.Component),je=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.loading,n=e.classes;return o.a.createElement("div",{className:n.root},t,a&&o.a.createElement(p.a,{size:24,className:n.progress}))}}]),a}(o.a.Component),ke=Object(W.a)((function(e){return Object(H.a)({root:{position:"relative"},progress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})}))(je);function Se(){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(X.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De("all");case 2:if(e.t0=e.sent.games,e.t0){e.next=5;break}e.t0=[];case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e){return we.apply(this,arguments)}function we(){return(we=Object(X.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(t);case 2:return e.abrupt("return",e.sent.game);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(X.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",He("add",{game:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){return t="delete/".concat(e),new Promise((function(e,a){fetch("".concat(y,"/").concat(t),{method:"DELETE",headers:Object(l.a)({},Le())}).then((function(t){e()}),(function(e){console.error(e),a(e)}))}));var t}function Ie(e,t){return Re.apply(this,arguments)}function Re(){return(Re=Object(X.a)(Q.a.mark((function e(t,a){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We("".concat(t,"/addPlayer"),{player:a});case 2:return e.abrupt("return",e.sent.player);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(X.a)(Q.a.mark((function e(t,a){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We("".concat(t,"/updatePlayer"),{player:a});case 2:return e.abrupt("return",e.sent.player);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,t){return We("".concat(e,"/startPreparation"),{wordsPerPlayer:t})}function _e(e,t){return We("".concat(e,"/resolve"),{correct:t})}function De(e){return new Promise((function(t,a){fetch("".concat(y,"/").concat(e),{method:"GET",headers:Object(l.a)({},Le())}).then((function(e){return e.json()})).then((function(e){t(e)}),(function(e){console.error(e),a(e)}))}))}function He(e,t){return new Promise((function(a,n){fetch("".concat(y,"/").concat(e),{method:"POST",headers:Object(l.a)(Object(l.a)({},Le()),{},{Accept:"application/json","Content-Type":"application/json"}),body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){a(e)}),(function(e){console.error(e),n(e)}))}))}function We(e,t){return new Promise((function(a,n){fetch("".concat(y,"/").concat(e),{method:"PUT",headers:Object(l.a)(Object(l.a)({},Le()),{},{Accept:"application/json","Content-Type":"application/json"}),body:JSON.stringify(t)}).then((function(e){e.json().then((function(e){a(e)}),(function(e){a()}))}),(function(e){console.error(e),n(e)}))}))}function Le(){return{Authorization:fe()}}var Ke=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).currentUserId=localStorage.getItem("playerId")||"",n.currentUserName=localStorage.getItem("playerName")||"",n._interval=void 0,n._isMounted=!1,n.createGame=n.createGame.bind(Object(ee.a)(n)),n.loadGames=n.loadGames.bind(Object(ee.a)(n)),n.handleChange=n.handleChange.bind(Object(ee.a)(n)),n.triggerDeleteGame=n.triggerDeleteGame.bind(Object(ee.a)(n)),n.deleteGame=n.deleteGame.bind(Object(ee.a)(n)),n.state={allGames:[],newGameName:null,gamesLoading:!0},n}return Object(K.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0,Oe(),this.loadGames()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,clearInterval(this._interval)}},{key:"loadGames",value:function(){var e=Object(X.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({gamesLoading:!0}),e.prev=1,e.next=4,Se();case 4:if(t=e.sent,this._isMounted){e.next=7;break}return e.abrupt("return");case 7:this.setState({allGames:t,gamesLoading:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),this.props.enqueueSnackbar(Ee.t("ERROR.LOAD_GAMES","Fehler"),{variant:"error"}),this.setState({gamesLoading:!1});case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"triggerDeleteGame",value:function(e){var t=this;this.setState((function(t){return{allGames:t.allGames.filter((function(t){return t.id!==e}))}}));this.props.enqueueSnackbar(Ee.t("HOME.DELETED_GAME","Spiel gel\xf6scht"),{action:function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(A.a,{onClick:function(){t.props.closeSnackbar(e),t.loadGames()},color:"inherit"},o.a.createElement(C.a,{i18nKey:"COMMON.UNDO"},"R\xfcckg\xe4ngig")))},onClose:function(a,n){"instructed"!==n&&t.deleteGame(e)}})}},{key:"deleteGame",value:function(){var e=Object(X.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(t);case 2:this.loadGames();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState({newGameName:e.target.value})}},{key:"createGame",value:function(){var e=Object(X.a)(Q.a.mark((function e(){var t,a,n,r,o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:"",name:"",words:[],players:[],host:"",wordsPerPlayer:2,round:0,phase:0,hints:[],correctWords:[],wrongWords:[]},null===(a=this.state.newGameName)&&(a=Ue(this.currentUserName)),t.name=a,e.prev=4,e.next=7,Ge(t);case 7:n=e.sent,r=n.id,o=n.playerId,this.currentUserId!==o&&localStorage.setItem("playerId",o),this.props.history.push("/"+r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),this.props.enqueueSnackbar(Ee.t("ERROR.CREATE_GAME","Fehler"),{variant:"error"});case 17:case"end":return e.stop()}}),e,this,[[4,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.newGameName,n=t.allGames,r=t.gamesLoading;return null===a&&(a=Ue(this.currentUserName)),o.a.createElement(te.a,{maxWidth:"sm",className:e.root},o.a.createElement(ae.a,{className:e.newGame},o.a.createElement(ne.a,{label:o.a.createElement(C.a,{i18nKey:"HOME.GAME_NAME"},"Spielname"),value:a,onChange:this.handleChange}),o.a.createElement(A.a,{variant:"contained",color:"primary",onClick:this.createGame},o.a.createElement(C.a,{i18nKey:"HOME.NEW_GAME"},"Neues Spiel"))),o.a.createElement(ae.a,{mb:2},o.a.createElement(ke,{loading:r},o.a.createElement(A.a,{variant:"contained",onClick:this.loadGames},o.a.createElement(C.a,{i18nKey:"HOME.LOAD_GAMES"},"Spiele aktualisieren")))),o.a.createElement(ve,{allGames:n,deleteGame:this.triggerDeleteGame}))}}]),a}(o.a.Component);function Ue(e){return e?Ee.t("HOME.NEW_GAME_PERSONAL","Neues Spiel",{name:e}):Ee.t("HOME.NEW_GAME","Neues Spiel")}var Be=Object(m.f)(Object(b.b)(Object(W.a)((function(e){return Object(H.a)({root:Object(l.a)(Object(l.a)({},j.flexCenter),{},{flexDirection:"column"}),newGame:Object(l.a)(Object(l.a)({},j.flexCenter),{},{flexDirection:"column",padding:e.spacing(2),margin:"".concat(e.spacing(2),"px 0"),"& button":{marginTop:e.spacing(2)}})})}))(Ke))),ze=a(113),Ye=a.n(ze),qe=a(217),Ve=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).state={value:""},n.handleChange=n.handleChange.bind(Object(ee.a)(n)),n.submitHint=n.submitHint.bind(Object(ee.a)(n)),n.keyPressed=n.keyPressed.bind(Object(ee.a)(n)),n}return Object(K.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"submitHint",value:function(){this.props.submitHint(this.state.value),this.setState({value:""})}},{key:"keyPressed",value:function(e){"Enter"===e.key&&this.submitHint()}},{key:"render",value:function(){var e=this.props,t=e.label,a=e.classes,n=this.state.value;return o.a.createElement(ae.a,{width:1,ml:t?5:7,mr:2,className:a.root},o.a.createElement(ne.a,{label:t||Ee.t("GAME.COMMON.ENTER_HINT","Hinweis eingeben"),fullWidth:!0,value:n,onChange:this.handleChange,onKeyPress:this.keyPressed}),o.a.createElement(G.a,{color:"primary",disabled:!n,onClick:this.submitHint},o.a.createElement(qe.a,null)))}}]),a}(o.a.Component),Fe=Object(W.a)((function(e){return Object(H.a)({root:Object(l.a)({},j.flexCenter)})}))(Ve),Je=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.top,n=e.bottom,r=e.left,i=e.right,c=e.handwriting,s=e.color,l=e.m,u=e.classes;if(!t)return null;var m=[u.root];return a&&m.push(u.top),n&&m.push(u.bottom),r&&m.push(u.left),i&&m.push(u.right),c&&m.push(u.handwriting),o.a.createElement(ae.a,{m:l||1,className:m.join(" "),style:{color:s}},t)}}]),a}(o.a.Component),Ze=Object(W.a)((function(e){return Object(H.a)({root:{position:"absolute",whiteSpace:"normal",fontSize:"1.2rem",lineHeight:1},top:{top:0},bottom:{bottom:0},left:{left:0},right:{right:0},handwriting:Object(l.a)({},j.handwriting)})}))(Je),$e=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var e=this.props,t=e.color,a=e.classes,n={backgroundColor:t},r={borderTopColor:t};return o.a.createElement("div",{className:a.pencil},o.a.createElement("div",{className:a.body,style:n}),o.a.createElement("div",{className:a.nib,style:r}))}}]),a}(o.a.Component),Qe=Object(W.a)((function(e){return Object(H.a)({pencil:{width:12,marginLeft:24,transform:"rotate(35deg)",animation:"$pencil .5s forwards",animationIterationCount:"infinite"},body:{width:12,height:48,backgroundColor:"black",borderTopLeftRadius:3,borderTopRightRadius:3},nib:{width:2,height:0,borderTop:"".concat(12,"px solid black"),borderLeft:"".concat(5,"px solid transparent"),borderRight:"".concat(5,"px solid transparent")},"@keyframes pencil":{"0%":{transform:"rotate(35deg)"},"50%":{transform:"rotateZ(25deg)"},"100%":{transform:"rotateZ(35deg)"}}})}))($e),Xe=a(224),et=a(218),tt=a(219),at=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.hint,n=t.color,r=t.author,i=t.showPencil,c=t.showCheck,s=t.showCross,l=t.submitHint,u=t.toggleDuplicate,m=t.duplicate,p=t.classes,h={color:n,borderColor:n},E=[p.root];if(i&&E.push(p.writing),m&&E.push(p.duplicate),l)e=o.a.createElement(Fe,{submitHint:l});else if(s)e=o.a.createElement(ae.a,{fontSize:80},"\u2717");else if(c)e=o.a.createElement(ae.a,{fontSize:80},"\u2713");else{var f=[];a&&a.length>18?f.push(p.hugeWord):a&&a.length>12&&f.push(p.longWord),m&&f.push(p.lineThrough),e=o.a.createElement(N.a,{variant:"h2",className:f.join(" ")},a)}return o.a.createElement(oe.a,{item:!0,xs:12},o.a.createElement(d.a,{className:E.join(" "),style:m?void 0:h},e,i&&o.a.createElement(Qe,{color:n}),u&&o.a.createElement(Xe.a,{className:p.toggleBtn,icon:o.a.createElement(et.a,null),checkedIcon:o.a.createElement(tt.a,null),checked:m||!1,onChange:function(){return u()}}),o.a.createElement(Ze,{bottom:!0,left:!0,handwriting:!0,color:n},r)))}}]),a}(o.a.Component),nt=Object(W.a)((function(e){return Object(H.a)({root:Object(l.a)(Object(l.a)({},j.flexCenter),{},{height:100,fontSize:48,border:"2px solid black",whiteSpace:"nowrap",position:"relative"}),writing:{borderStyle:"dotted"},longWord:{fontSize:32},hugeWord:{fontSize:24},duplicate:{borderStyle:"dashed",color:e.palette.grey.A200,borderColor:e.palette.grey.A200},lineThrough:{textDecoration:"line-through"},toggleBtn:{position:"absolute",right:e.spacing(1),zIndex:1}})}))(at),rt=a(86),ot=a.n(rt),it=["#e51235","#d81b60","#8e24aa","#6e45c1","#4959cc","#1e88e5","#039be5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#ffc215","#ffab00","#ff6d00","#f4511e"];function ct(e){return e&&it.includes(e)?e:it[Math.floor(Math.random()*it.length)]}var st,lt=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var e=this.props,t=e.selected,a=e.select,n=e.classes,r=it.map((function(e){var r=t===e,i={backgroundColor:e,padding:r?4:16};return o.a.createElement(G.a,{className:n.button,onClick:function(){return a(e)},style:i,key:e},r&&o.a.createElement(ot.a,null))}));return o.a.createElement(ae.a,{className:n.root},r)}}]),a}(o.a.Component),ut=Object(W.a)((function(e){return Object(H.a)({root:{margin:32,width:128},button:{margin:0,borderRadius:0,color:"white"}})}))(lt),mt=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(ee.a)(n)),n.setColor=n.setColor.bind(Object(ee.a)(n)),n.addPlayer=n.addPlayer.bind(Object(ee.a)(n)),n}return Object(K.a)(a,[{key:"handleChange",value:function(e){"name"===e.target.name&&(this.props.currentPlayer.name=e.target.value,this.props.updatePlayer(this.props.currentPlayer))}},{key:"setColor",value:function(e){this.props.currentPlayer.color=e,this.props.updatePlayer(this.props.currentPlayer)}},{key:"addPlayer",value:function(){this.props.addPlayer(this.props.currentPlayer)}},{key:"render",value:function(){var e=this.props.currentPlayer;return o.a.createElement("div",{className:"New-player"},o.a.createElement(ne.a,{required:!0,label:"Spielername",name:"name",value:e.name,onChange:this.handleChange}),o.a.createElement(ut,{select:this.setColor,selected:e.color}),o.a.createElement(A.a,{variant:"contained",color:"primary",disabled:!e.name,onClick:this.addPlayer},o.a.createElement(C.a,{i18nKey:"GAME.LOBBY.JOIN"},"Mitspielen")))}}]),a}(o.a.Component),dt=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){for(var e=this.props,t=e.open,a=e.onClose,n=e.numOfPlayers,r=[],i=function(e){var t=e+1,i=t*n;r.push(o.a.createElement(V.a,{button:!0,onClick:function(){a(t)},key:t},o.a.createElement(F.a,{primary:o.a.createElement(C.a,{i18nKey:"GAME.LOBBY.ROUND_SELECT.NUM",count:i},{roundCount:i}," Runden"),secondary:o.a.createElement(C.a,{i18nKey:"GAME.LOBBY.ROUND_SELECT.WORDS",count:t},{wordCount:t}," Begriff(e) pro Spieler")})))},c=0;c<3;c++)i(c);return o.a.createElement(z.a,{onClose:function(){a()},open:t,disableBackdropClick:!0},o.a.createElement(Y.a,null,o.a.createElement(C.a,{i18nKey:"GAME.LOBBY.ROUND_SELECT.HEADING"},"Lege die Rundenanzahl fest")),o.a.createElement(q.a,null,r))}}]),a}(o.a.Component),pt=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).state={currentPlayer:{id:localStorage.getItem("playerId")||"",name:localStorage.getItem("playerName")||"",color:ct(localStorage.getItem("playerColor"))},roundDialogOpen:!1},n.addPlayer=n.addPlayer.bind(Object(ee.a)(n)),n.setPlayerProps=n.setPlayerProps.bind(Object(ee.a)(n)),n.selectNumRounds=n.selectNumRounds.bind(Object(ee.a)(n)),n.startPreparation=n.startPreparation.bind(Object(ee.a)(n)),n.shareGame=n.shareGame.bind(Object(ee.a)(n)),n}return Object(K.a)(a,[{key:"setPlayerProps",value:function(e){this.setState({currentPlayer:e})}},{key:"addPlayer",value:function(){var e=Object(X.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(this.props.game.id,t);case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return");case 5:this.setLocalPlayer(a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setLocalPlayer",value:function(e){localStorage.setItem("playerId",e.id),localStorage.setItem("playerName",e.name),e.color&&localStorage.setItem("playerColor",e.color),this.props.setTheme&&e.color&&this.props.setTheme(e.color),this.setState({currentPlayer:e,playerAdded:!0})}},{key:"selectNumRounds",value:function(){this.setState({roundDialogOpen:!0})}},{key:"startPreparation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.setState({roundDialogOpen:!1}),xe(this.props.game.id,e)}},{key:"shareGame",value:function(){var e=window.location.href;if(navigator.share)navigator.share({title:document.title||Ee.t("APP_TITLE","Nur ein Wort!"),text:Ee.t("GAME.LOBBY.INVITE_PLAYERS_MESSAGE","Spiele online mit mir"),url:e});else try{navigator.clipboard.writeText(e),this.props.enqueueSnackbar(o.a.createElement(C.a,{i18nKey:"GAME.LOBBY.COPIED_LINK"},"Link kopiert"))}catch(t){this.props.enqueueSnackbar(o.a.createElement(C.a,{i18nKey:"GAME.LOBBY.COPIED_LINK_ERROR"},"Fehler beim Link kopieren"),{variant:"error"})}}},{key:"render",value:function(){var e=this.props.game,t=this.state,a=t.currentPlayer,n=t.roundDialogOpen,r=t.playerAdded,i=localStorage.getItem("playerId")||"",c=!!i&&e.host===i,s=!1,l=e.players.map((function(e){return e.id===i&&(s=!0),o.a.createElement(nt,{key:e.id,hint:e.name,color:e.color})}));s=s||!!r;var u=a.name?a.name:"?",m=a.color?a.color:ct();return o.a.createElement(oe.a,{container:!0,spacing:4,className:"Game-lobby"},o.a.createElement(oe.a,{item:!0,xs:12,sm:6,container:!0,spacing:2,className:"New-player"},s?o.a.createElement(oe.a,{item:!0,xs:12},o.a.createElement(d.a,{className:"StatusInfo"},o.a.createElement(C.a,{i18nKey:"GAME.LOBBY.WAIT_MESSAGE",tOptions:{context:c?"HOST":"PLAYER"}},"Warten auf Mitspieler ... Sobald alle Mitspieler da sind, kann der Spielleiter das Spiel starten."))):o.a.createElement(oe.a,{item:!0,xs:12},o.a.createElement(mt,{currentPlayer:a,updatePlayer:this.setPlayerProps,addPlayer:this.addPlayer})),s&&o.a.createElement(oe.a,{item:!0,xs:12},o.a.createElement(A.a,{variant:"contained",startIcon:o.a.createElement(Ye.a,null),onClick:this.shareGame},o.a.createElement(C.a,{i18nKey:"GAME.LOBBY.INVITE_PLAYERS"},"Personen einladen"))),c&&s&&o.a.createElement(oe.a,{item:!0,xs:12},o.a.createElement(A.a,{variant:"contained",color:"primary",disabled:e.players.length<3,onClick:this.selectNumRounds},o.a.createElement(C.a,{i18nKey:"GAME.LOBBY.START_BUTTON"},"Alle Spieler sind da")))),o.a.createElement(oe.a,{item:!0,xs:12,sm:6,container:!0,spacing:2,alignItems:"center",className:"Player-list"},o.a.createElement(oe.a,{item:!0,xs:12,component:N.a,variant:"h5"},o.a.createElement(C.a,{i18nKey:"COMMON.TEAMMATES"},"Mitspieler")),l,!s&&o.a.createElement(nt,{hint:u,color:m,showPencil:!0})),o.a.createElement(dt,{numOfPlayers:e.players.length,open:n,onClose:this.startPreparation}))}}]),a}(o.a.Component),ht=Object(b.b)(pt),Et=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var e,t,a=this.props,n=a.word,r=a.guesser,i=a.color,c=a.isGuesser,s=a.guess,l=a.guessedRight,u=a.showInput,m=a.submitHint,p=a.small,h=a.classes,E=[h.wordCard],f={borderColor:i};return s?(t=Ee.t("GAME.COMMON.WORD","Begriff")+": "+n,E.push(l?h.correct:h.wrong),delete f.borderColor):r&&(e=o.a.createElement(C.a,{i18nKey:"GAME.COMMON.TURN_GUESSING",tOptions:{context:c?"ME":""}},{guesser:r}," muss raten")),p&&E.push(h.small),o.a.createElement(oe.a,{item:!0,xs:12,className:p?h.root:void 0},o.a.createElement(d.a,{className:E.join(" "),style:f},u&&m?o.a.createElement(Fe,{submitHint:m,label:Ee.t("GAME.COMMON.GUESS","Rateversuch")}):o.a.createElement("span",{className:s&&h.guess,style:{color:s&&i}},s||n),o.a.createElement(Ze,{bottom:!0,left:!0,handwriting:!0,color:i,m:2},e),o.a.createElement(Ze,{bottom:!0,right:!0,m:2},t)))}}]),a}(o.a.Component),ft=Object(W.a)((function(e){return Object(H.a)({root:Object(l.a)(Object(l.a)({},j.flexCenter),{},{width:"100%"}),wordCard:Object(l.a)(Object(l.a)({},j.flexCenter),{},{height:220,maxHeight:"30vh",minHeight:150,fontSize:32,border:"2px solid black",whiteSpace:"nowrap",position:"relative"}),guess:Object(l.a)({},j.handwriting),correct:{borderColor:e.palette.success.main},wrong:{borderColor:e.palette.error.main},small:{maxWidth:250,height:125,fontSize:24,flex:"1 1 auto"}})}))(Et),gt=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).state={words:[]},n.handleChange=n.handleChange.bind(Object(ee.a)(n)),n.keyPressed=n.keyPressed.bind(Object(ee.a)(n)),n}return Object(K.a)(a,[{key:"handleChange",value:function(e){var t=parseInt(e.target.name.substr(4)),a=e.target.value;this.setState((function(e,n){var r=e.words;return r[t]=a,{words:r}}))}},{key:"keyPressed",value:function(e){if("Enter"===e.key){var t=this.state.words;t.length<this.props.numOfWords||t.some((function(e){return!e||0===e.length}))||this.props.add(t)}}},{key:"render",value:function(){for(var e=this.props,t=e.add,a=e.numOfWords,n=this.state.words,r=[],i=0;i<a;i++){var c=Ee.t("GAME.PREP.WORD_ADDER.LABEL","Wort "+(i+1),{count:a,index:i+1});r.push(o.a.createElement(ne.a,{required:!0,label:c,placeholder:Ee.t("GAME.PREP.WORD_ADDER.PLACEHOLDER","Ratebegriff eingeben"),name:"word".concat(i),key:"word".concat(i),value:n[i]||"",onChange:this.handleChange,onKeyPress:this.keyPressed}))}var s=n.length<a||n.some((function(e){return!e||0===e.length}));return o.a.createElement("div",{className:"Word-adder"},o.a.createElement(N.a,{variant:"subtitle1"},o.a.createElement(C.a,{i18nKey:"GAME.PREP.WORD_ADDER.HEADING",count:a},"Gib Begriffe f\xfcr das Spiel ein")),r,o.a.createElement(A.a,{variant:"contained",color:"primary",disabled:s,onClick:function(){return t(n)}},o.a.createElement(C.a,{i18nKey:"GAME.PREP.WORD_ADDER.BUTTON",count:a},"Jetzt abschicken")))}}]),a}(o.a.Component),bt=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).currentPlayer={id:localStorage.getItem("playerId")||"",name:localStorage.getItem("playerName")||"",color:ct(localStorage.getItem("playerColor"))},n.addWords=n.addWords.bind(Object(ee.a)(n)),n}return Object(K.a)(a,[{key:"addWords",value:function(){var e=Object(X.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=this.currentPlayer).enteredWords=t,Pe(this.props.game.id,a);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.game,a=t.wordsPerPlayer||2,n=localStorage.getItem("playerId")||"",r=!1,i=[],c=!1,s=t.players.map((function(e){var t=!!e.enteredWords&&e.enteredWords.length===a;return e.id===n&&(r=!0,i=e.enteredWords||[],c=t),o.a.createElement(nt,{key:e.id,hint:e.name,color:e.color,showPencil:!t})})),l=i.map((function(t){return o.a.createElement(ft,{key:t,small:!0,word:t,color:e.currentPlayer.color})}));return o.a.createElement(oe.a,{container:!0,spacing:4,className:"Game-lobby"},o.a.createElement(oe.a,{item:!0,xs:12,sm:6,container:!0,spacing:2,className:"New-player"},c||!r?o.a.createElement(oe.a,{item:!0,xs:12},o.a.createElement(d.a,{className:"StatusInfo"},o.a.createElement(C.a,{i18nKey:"GAME.PREP.WAIT_MESSAGE"},"Warten auf Mitspieler ... Sobald alle fertig sind, geht's los."))):o.a.createElement(oe.a,{item:!0,xs:12},o.a.createElement(gt,{add:this.addWords,numOfWords:a})),l.length>0&&o.a.createElement(oe.a,{item:!0,xs:12,component:N.a,variant:"subtitle1"},o.a.createElement(C.a,{i18nKey:"GAME.PREP.MY_WORDS",count:i.length},"Meine Begriffe")),l),o.a.createElement(oe.a,{item:!0,xs:12,sm:6,container:!0,spacing:2,alignItems:"center",className:"Player-list"},o.a.createElement(oe.a,{item:!0,xs:12,component:N.a,variant:"h5"},o.a.createElement(C.a,{i18nKey:"COMMON.TEAMMATES"},"Mitspieler")),s))}}]),a}(o.a.Component),Ot=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(L.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={shownPrevResult:!1},e._isMounted=!1,e}return Object(K.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.props.closeSnackbar()}},{key:"render",value:function(){var e=this,t=this.props.game,a=this.state.shownPrevResult,n=t.correctWords.map((function(e){return o.a.createElement(ft,{key:e.word,small:!0,word:e.word,guess:e.guess,guessedRight:!0})})),r=t.wrongWords.map((function(e){return o.a.createElement(ft,{key:e.word,small:!0,word:e.word,guess:e.guess,guessedRight:!1})}));return a||ye(t,this.props.enqueueSnackbar,(function(){e._isMounted&&e.setState({shownPrevResult:!0})})),o.a.createElement(oe.a,{container:!0,spacing:4,className:"Game-end-view"},o.a.createElement(oe.a,{item:!0,xs:12,md:6,container:!0,spacing:2,className:"Correct-words"},o.a.createElement(oe.a,{item:!0,xs:12,component:N.a,variant:"h4"},o.a.createElement(C.a,{i18nKey:"GAME.END.RIGHT",count:t.correctWords.length},"Richtig")),n),o.a.createElement(oe.a,{item:!0,xs:12,md:6,container:!0,spacing:2,className:"Wrong-words"},o.a.createElement(oe.a,{item:!0,xs:12,component:N.a,variant:"h4"},o.a.createElement(C.a,{i18nKey:"GAME.END.WRONG",count:t.wrongWords.length},"Falsch")),r))}}]),a}(o.a.Component),yt=Object(b.b)(Ot),vt=a(114),jt=a.n(vt),kt=a(227);!function(e){e.DEFAULT="default",e.CORRECT="correct",e.WRONG="wrong"}(st||(st={}));var St=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.classes,n=[a.root];t===st.CORRECT&&n.push(a.correct),t===st.WRONG&&n.push(a.wrong);var r=o.a.createElement("div",{className:n.join(" ")},t===st.CORRECT&&o.a.createElement(ot.a,{fontSize:"inherit"}),t===st.WRONG&&o.a.createElement(jt.a,{fontSize:"inherit"}),o.a.createElement("div",null,this.props.children));return this.props.title&&(r=o.a.createElement(kt.a,{title:this.props.title,"aria-label":this.props.title},r)),r}}]),a}(o.a.Component),Ct=Object(W.a)((function(e){return Object(H.a)({root:{display:"inline-flex",alignItems:"center",border:"2px solid currentColor",borderRadius:5,padding:"0 .5ex 0 .25ex",margin:".25ex .5ex",verticalAlign:"middle",cursor:"default"},correct:{color:e.palette.success.main},wrong:{color:e.palette.error.main}})}))(St),Mt=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"componentDidMount",value:function(){document.body.classList.add(this.props.classes.body)}},{key:"componentWillUnmount",value:function(){document.body.classList.remove(this.props.classes.body)}},{key:"render",value:function(){var e,t=this.props,a=t.game,n=t.classes,r=(be(a,a.roundHost)||{name:"?"}).name,i=(be(a,a.currentGuesser)||{name:"?"}).name;switch(a.phase){case v.HintWriting:var c=a.players.filter((function(e){return a.currentGuesser&&e.id!==a.currentGuesser})).map((function(e){return e.name})),s=c.slice(0,c.length-1).join(", ")+" und "+c[c.length-1];e=o.a.createElement(C.a,{i18nKey:"GAME.STATS.PHASE_WRITING"},{playersString:s}," schreiben Hinweise auf...");break;case v.HintComparing:e=o.a.createElement(C.a,{i18nKey:"GAME.STATS.PHASE_COMPARING"},{roundHostName:r}," \xfcberpr\xfcft die Hinweise ...");break;case v.Guessing:e=o.a.createElement(C.a,{i18nKey:"GAME.STATS.PHASE_GUESSING"},{guesserName:i}," versucht den Begriff zu erraten...");break;case v.Solution:e=a.guessedRight?o.a.createElement(C.a,{i18nKey:"GAME.STATS.PHASE_SOLUTION"},{guesserName:i}," lag genau richtig!"):o.a.createElement(C.a,{i18nKey:"GAME.STATS.PHASE_SOLUTION_WRONG"},{roundHostName:r}," lag daneben! ",{guesserName:i}," entscheidet ob es trotzdem z\xe4hlt...")}var l=a.round+1,u=a.words.length,m=a.correctWords.length,d=a.wrongWords.length;return o.a.createElement("div",{className:n.root},o.a.createElement(M.a,{position:"fixed",color:"default",className:n.appbar},o.a.createElement("div",{className:n.contents},o.a.createElement("div",null,o.a.createElement(C.a,{i18nKey:"GAME.STATS.ROUND"},"Runde ",{round:l},"/",{roundCount:u})),o.a.createElement("div",null,o.a.createElement(C.a,{i18nKey:"GAME.STATS.PHASE"},"Phase"),": ",e),o.a.createElement("div",null,o.a.createElement(Ct,{type:st.CORRECT,title:Ee.t("GAME.STATS.RIGHT",{rightCount:m}).toString()},m),o.a.createElement(Ct,{type:st.WRONG,title:Ee.t("GAME.STATS.WRONG",{wrongCount:d}).toString()},d)))))}}]),a}(o.a.Component),wt=Object(W.a)((function(e){return Object(H.a)({root:{width:"100%",height:50},appbar:{top:"auto",bottom:0,marginBottom:0},contents:{display:"flex",justifyContent:"space-between",padding:e.spacing(1)},body:{"& .MuiCollapse-wrapperInner":{transform:"translateY(-40px)"}}})}))(Mt),Gt=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){return o.a.createElement(oe.a,{container:!0,spacing:4,className:"Game-field"},o.a.createElement(oe.a,{item:!0,xs:12,md:5,container:!0,spacing:2,className:"Current-word"},o.a.createElement(oe.a,{item:!0,xs:12,component:N.a,variant:"h5"},o.a.createElement(C.a,{i18nKey:"GAME.COMMON.WORD"},"Begriff")),this.props.leftCol),o.a.createElement(oe.a,{item:!0,xs:12,md:7,container:!0,spacing:2,className:"Current-hints"},o.a.createElement(oe.a,{item:!0,xs:12,component:N.a,variant:"h5"},o.a.createElement(C.a,{i18nKey:"GAME.COMMON.PLAYER_HINTS"},"Spieler-Hinweise")),this.props.rightCol))}}]),a}(o.a.Component),Nt=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).state={shownMessage:!1,shownPrevResult:!1},n._isMounted=!1,n.submitHint=n.submitHint.bind(Object(ee.a)(n)),n}return Object(K.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"submitHint",value:function(e){!function(e,t){We("".concat(e,"/hint"),{hint:t})}(this.props.game.id,e)}},{key:"render",value:function(){var e=this,t=this.props.game,a=this.state,n=a.shownMessage,r=a.shownPrevResult,i=ge(t),c=be(t,t.currentGuesser)||{name:"?",id:"?"},s=i&&i.id===c.id;r||ye(t,this.props.enqueueSnackbar,(function(){e._isMounted&&e.setState({shownPrevResult:!0})}));var l=s?"?":t.currentWord||"",u=t.hints.map((function(a,r){var c=a.hint,s=i&&i.id===a.author,l=be(t,a.author)||{name:"?",id:"?"},u=s?Ee.t("COMMON.ME","Ich"):l.name,m=!c||s,d=!c&&s;return!s||c||n||e.props.enqueueSnackbar(Ee.t("GAME.MESSAGE.YOUR_TURN","Du bist dran!",{context:"HINT_WRITING"}),{variant:"info",preventDuplicate:!0,onClose:function(){e._isMounted&&e.setState({shownMessage:!0})}}),o.a.createElement(nt,{key:a.author+r,hint:c,color:l.color,showPencil:!d&&!c,submitHint:d?e.submitHint:void 0,showCheck:!m,author:u})}));return o.a.createElement(Gt,{leftCol:o.a.createElement(ft,{word:l,guesser:c.name,isGuesser:s,color:c.color}),rightCol:u})}}]),a}(o.a.Component),At=Object(b.b)(Nt),It=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).state={shownMessage:!1},n._isMounted=!1,n.toggleDuplicate=n.toggleDuplicate.bind(Object(ee.a)(n)),n.showHints=n.showHints.bind(Object(ee.a)(n)),n}return Object(K.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"toggleDuplicate",value:function(e){!function(e,t){We("".concat(e,"/toggleDuplicateHint"),{hintIndex:t})}(this.props.game.id,e)}},{key:"showHints",value:function(){var e;e=this.props.game.id,We("".concat(e,"/showHints"))}},{key:"render",value:function(){var e=this,t=this.props.game,a=this.state.shownMessage,n=ge(t),r=be(t,t.currentGuesser)||{name:"?",id:"?"},i=n&&n.id===r.id,c=r.name,s=n&&n.id===t.roundHost;s&&!a&&this.props.enqueueSnackbar(Ee.t("GAME.MESSAGE.YOUR_TURN","Du bist dran!",{context:"HINT_COMPARING"}),{variant:"info",preventDuplicate:!0,onClose:function(){e._isMounted&&e.setState({shownMessage:!0})}});var l=i?"?":t.currentWord||"",u=t.hints.map((function(a,r){var c=n&&n.id===a.author,l=be(t,a.author)||{name:"?",id:"?"},u=c?Ee.t("COMMON.ME","Ich"):l.name;return o.a.createElement(nt,{key:a.author+r,hint:a.hint,color:l.color,showCheck:i,showCross:i&&a.isDuplicate,duplicate:a.isDuplicate,toggleDuplicate:s?function(){return e.toggleDuplicate(r)}:void 0,author:u})}));return s&&u.push(o.a.createElement(oe.a,{item:!0,xs:12,component:N.a,variant:"subtitle1",key:"info"},o.a.createElement(C.a,{i18nKey:"GAME.COMPARING.INFO"},"Markiere ung\xfcltige Hinweise")),o.a.createElement(oe.a,{item:!0,xs:12,key:"button"},o.a.createElement(A.a,{variant:"contained",color:"primary",onClick:this.showHints},o.a.createElement(C.a,{i18nKey:"GAME.COMPARING.BUTTON"},{guesserName:c}," kann losraten!")))),o.a.createElement(Gt,{leftCol:o.a.createElement(ft,{word:l,guesser:r.name,isGuesser:i,color:r.color}),rightCol:u})}}]),a}(o.a.Component),Rt=Object(b.b)(It),Pt=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).state={shownMessage:!1},n._isMounted=!1,n.guess=n.guess.bind(Object(ee.a)(n)),n}return Object(K.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"guess",value:function(e){!function(e,t){We("".concat(e,"/guess"),{guess:t})}(this.props.game.id,e)}},{key:"render",value:function(){var e=this,t=this.props.game,a=this.state.shownMessage,n=ge(t),r=be(t,t.currentGuesser)||{name:"?",id:"?"},i=n&&n.id===r.id;i&&!a&&this.props.enqueueSnackbar(Ee.t("GAME.MESSAGE.YOUR_TURN","Du bist dran!",{context:"GUESSING"}),{variant:"info",preventDuplicate:!0,onClose:function(){e._isMounted&&e.setState({shownMessage:!0})}});var c=i?"?":t.currentWord||"",s=t.hints.map((function(e,a){var r=e.hint,c=n&&n.id===e.author,s=be(t,e.author)||{name:"?",id:"?"},l=c?Ee.t("COMMON.ME","Ich"):s.name;return o.a.createElement(nt,{key:e.author+a,hint:r,color:s.color,showCross:i&&e.isDuplicate,duplicate:e.isDuplicate,author:l})}));return o.a.createElement(Gt,{leftCol:o.a.createElement(ft,{word:c,guesser:r.name,isGuesser:i,color:r.color,showInput:i,submitHint:this.guess}),rightCol:s})}}]),a}(o.a.Component),Tt=Object(b.b)(Pt),xt=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).state={shownMessage:!1,shownResult:!1},n._isMounted=!1,n.resolveRound=n.resolveRound.bind(Object(ee.a)(n)),n}return Object(K.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"resolveRound",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_e(this.props.game.id,e)}},{key:"render",value:function(){var e=this,t=this.props.game,a=this.state,n=a.shownMessage,r=a.shownResult,i=ge(t),c=be(t,t.currentGuesser)||{name:"?",id:"?"},s=c.name,l=i&&i.id===c.id,u=i&&i.id===t.roundHost,m=t.currentWord||"",d=t.currentGuess||"",p=t.hints.map((function(e,a){var n=i&&i.id===e.author,r=be(t,e.author)||{name:"?",id:"?"},c=n?Ee.t("COMMON.ME","Ich"):r.name;return o.a.createElement(nt,{key:e.author+a,hint:e.hint,color:r.color,author:c,duplicate:e.isDuplicate})}));if(!u||t.guessedRight||n||this.props.enqueueSnackbar(Ee.t("GAME.MESSAGE.YOUR_TURN","Du bist dran!",{context:"SOLUTION"}),{variant:"info",preventDuplicate:!0,onClose:function(){e._isMounted&&e.setState({shownMessage:!0})}}),!r){var h=t.guessedRight?"CORRECT":"WRONG",E=t.guessedRight?"success":"warning";this.props.enqueueSnackbar(Ee.t("GAME.MESSAGE.RESULT","".concat(s," hat geraten"),{context:h,guesserName:s,guess:t.currentGuess}),{variant:E,preventDuplicate:!0,onClose:function(){e._isMounted&&e.setState({shownResult:!0})}})}var f=[];return f.push(o.a.createElement(ft,{key:"wordCard",word:m,guesser:c.name,isGuesser:l,color:c.color,guess:d,guessedRight:t.guessedRight})),t.guessedRight?f.push(o.a.createElement(oe.a,{item:!0,xs:12,key:"button1"},o.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return e.resolveRound(!0)}},o.a.createElement(C.a,{i18nKey:"GAME.SOLUTION.CONTINUE"},"Weiter")))):u&&f.push(o.a.createElement(oe.a,{item:!0,xs:12,key:"button1"},o.a.createElement(A.a,{variant:"contained",onClick:function(){return e.resolveRound(!0)}},o.a.createElement(C.a,{i18nKey:"GAME.SOLUTION.CONTINUE_RIGHT"},"Das z\xe4hlt trotzdem"))),o.a.createElement(oe.a,{item:!0,xs:12,key:"button2"},o.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return e.resolveRound(!1)}},o.a.createElement(C.a,{i18nKey:"GAME.SOLUTION.CONTINUE_WRONG"},"Leider falsch")))),o.a.createElement(Gt,{leftCol:f,rightCol:p})}}]),a}(o.a.Component),_t=Object(b.b)(xt),Dt=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(L.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e._interval=void 0,e._isMounted=!1,e}return Object(K.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.loadGame(),this._interval=window.setInterval(this.loadGame.bind(this),1e3)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,clearInterval(this._interval)}},{key:"loadGame",value:function(){var e=Object(X.a)(Q.a.mark((function e(){var t,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.gameId,e.next=3,Me(t);case 3:if(a=e.sent,this._isMounted){e.next=6;break}return e.abrupt("return");case 6:if(a){e.next=8;break}return e.abrupt("return");case 8:Oe(a.name),this.setState({currentGame:a});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this.props.setTheme,n=this.state.currentGame;if(!n)return null;switch(n.phase){case v.Init:e=o.a.createElement(ht,{game:n,setTheme:a});break;case v.Preparation:e=o.a.createElement(bt,{game:n});break;case v.HintWriting:e=o.a.createElement(At,{game:n}),t=o.a.createElement(wt,{game:n});break;case v.HintComparing:e=o.a.createElement(Rt,{game:n}),t=o.a.createElement(wt,{game:n});break;case v.Guessing:e=o.a.createElement(Tt,{game:n}),t=o.a.createElement(wt,{game:n});break;case v.Solution:e=o.a.createElement(_t,{game:n}),t=o.a.createElement(wt,{game:n});break;case v.End:e=o.a.createElement(yt,{game:n})}return o.a.createElement(te.a,{maxWidth:"lg",className:"Game-content"},e,t)}}]),a}(o.a.Component),Ht=Object(h.a)({root:Object(l.a)(Object(l.a)({},j.rootSizing),{},{textAlign:"center"}),loading:Object(l.a)({},j.flexCenter)}),Wt=function(){var e=Object(r.useState)(localStorage.getItem("playerColor")),t=Object(s.a)(e,2),a=t[0],i=t[1],c=Object(r.useState)(localStorage.getItem("darkTheme")||n.AUTO),p=Object(s.a)(c,2),h=p[0],O=p[1],y=Ht(),v=Object(g.a)("(prefers-color-scheme: dark)");h===n.BRIGHT?v=!1:h===n.DARK&&(v=!0);var k=o.a.useMemo((function(){return Object(E.a)(function(e,t){return{palette:{primary:{main:e||"#43a047"},secondary:{main:"#d32f2f"},background:{default:t?"#222222":"#fff8f5"},type:t?"dark":"light"},breakpoints:{values:{xs:0,sm:600,md:720,lg:960,xl:1280}},typography:{h2:Object(l.a)({},j.handwriting),h5:Object(l.a)(Object(l.a)({},j.handwriting),{},{paddingTop:8,textTransform:"capitalize"})}}}(a,v))}),[a,v]);return o.a.createElement(f.a,{theme:k},o.a.createElement(r.Suspense,{fallback:o.a.createElement(Lt,null)},o.a.createElement(u.a,null,o.a.createElement(b.a,{maxSnack:2,anchorOrigin:{vertical:"bottom",horizontal:"center"}},o.a.createElement(d.a,{square:!0,elevation:0,className:y.root,style:{backgroundColor:k.palette.background.default}},o.a.createElement(Z,{userTheme:h,applyUserTheme:function(e){O(e),localStorage.setItem("darkTheme",e)}}),o.a.createElement(m.c,null,o.a.createElement(m.a,{path:"/:gameId",component:function(e){return o.a.createElement(Dt,{gameId:e.match.params.gameId,setTheme:i})}}),o.a.createElement(m.a,{children:o.a.createElement(Be,null)})))))))},Lt=function(){var e=Ht();return o.a.createElement(d.a,{square:!0,elevation:0,className:"".concat(e.root," ").concat(e.loading)},o.a.createElement(p.a,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Wt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[129,1,2]]]);